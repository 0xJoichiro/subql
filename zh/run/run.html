<!DOCTYPE html>
<html lang="English">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Running SubQuery Locally | SubQuery Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Explore and transform your chain data to build intuitive dApps faster!.">
    
    <link rel="preload" href="/assets/css/0.styles.8140c838.css" as="style"><link rel="preload" href="/assets/js/app.903a0347.js" as="script"><link rel="preload" href="/assets/js/2.55fe9868.js" as="script"><link rel="preload" href="/assets/js/202.d6321a69.js" as="script"><link rel="prefetch" href="/assets/js/10.b0a59540.js"><link rel="prefetch" href="/assets/js/100.7a5dd551.js"><link rel="prefetch" href="/assets/js/101.d871e5bd.js"><link rel="prefetch" href="/assets/js/102.43d966ed.js"><link rel="prefetch" href="/assets/js/103.1f03ae20.js"><link rel="prefetch" href="/assets/js/104.545b2d27.js"><link rel="prefetch" href="/assets/js/105.aea4234c.js"><link rel="prefetch" href="/assets/js/106.0ec93133.js"><link rel="prefetch" href="/assets/js/107.39c086bb.js"><link rel="prefetch" href="/assets/js/108.fa952857.js"><link rel="prefetch" href="/assets/js/109.6e7a0fcb.js"><link rel="prefetch" href="/assets/js/11.39887549.js"><link rel="prefetch" href="/assets/js/110.e2074d78.js"><link rel="prefetch" href="/assets/js/111.07597720.js"><link rel="prefetch" href="/assets/js/112.30b23399.js"><link rel="prefetch" href="/assets/js/113.9a71d0d7.js"><link rel="prefetch" href="/assets/js/114.4a82e9fe.js"><link rel="prefetch" href="/assets/js/115.1c3b0831.js"><link rel="prefetch" href="/assets/js/116.57f76c34.js"><link rel="prefetch" href="/assets/js/117.1da22008.js"><link rel="prefetch" href="/assets/js/118.a4014e4a.js"><link rel="prefetch" href="/assets/js/119.935ebac3.js"><link rel="prefetch" href="/assets/js/12.021c98bb.js"><link rel="prefetch" href="/assets/js/120.cd18635c.js"><link rel="prefetch" href="/assets/js/121.a6ee3fd1.js"><link rel="prefetch" href="/assets/js/122.b72a6085.js"><link rel="prefetch" href="/assets/js/123.058745d8.js"><link rel="prefetch" href="/assets/js/124.78416923.js"><link rel="prefetch" href="/assets/js/125.d1525331.js"><link rel="prefetch" href="/assets/js/126.67af68d0.js"><link rel="prefetch" href="/assets/js/127.8e68fedc.js"><link rel="prefetch" href="/assets/js/128.b42bff1f.js"><link rel="prefetch" href="/assets/js/129.2f64dbf2.js"><link rel="prefetch" href="/assets/js/13.435bedc3.js"><link rel="prefetch" href="/assets/js/130.5d18fc4a.js"><link rel="prefetch" href="/assets/js/131.f16ee6a8.js"><link rel="prefetch" href="/assets/js/132.d4f97ec3.js"><link rel="prefetch" href="/assets/js/133.e0a7441b.js"><link rel="prefetch" href="/assets/js/134.0af9ea04.js"><link rel="prefetch" href="/assets/js/135.b842c1cb.js"><link rel="prefetch" href="/assets/js/136.e5ebb308.js"><link rel="prefetch" href="/assets/js/137.2e04234e.js"><link rel="prefetch" href="/assets/js/138.fc6b9761.js"><link rel="prefetch" href="/assets/js/139.610922ff.js"><link rel="prefetch" href="/assets/js/14.89b17b8f.js"><link rel="prefetch" href="/assets/js/140.52488b58.js"><link rel="prefetch" href="/assets/js/141.c79e7924.js"><link rel="prefetch" href="/assets/js/142.ab7de746.js"><link rel="prefetch" href="/assets/js/143.2d3f00c8.js"><link rel="prefetch" href="/assets/js/144.cc69e8f2.js"><link rel="prefetch" href="/assets/js/145.fcb2d85b.js"><link rel="prefetch" href="/assets/js/146.16ebcbc7.js"><link rel="prefetch" href="/assets/js/147.bfd600ee.js"><link rel="prefetch" href="/assets/js/148.1056aa5a.js"><link rel="prefetch" href="/assets/js/149.cb528922.js"><link rel="prefetch" href="/assets/js/15.293cc7c9.js"><link rel="prefetch" href="/assets/js/150.d0f7a25b.js"><link rel="prefetch" href="/assets/js/151.91b11b52.js"><link rel="prefetch" href="/assets/js/152.d167c8d0.js"><link rel="prefetch" href="/assets/js/153.8bd69b31.js"><link rel="prefetch" href="/assets/js/154.c051307a.js"><link rel="prefetch" href="/assets/js/155.f8bf3d7c.js"><link rel="prefetch" href="/assets/js/156.52cd6284.js"><link rel="prefetch" href="/assets/js/157.13239cfc.js"><link rel="prefetch" href="/assets/js/158.fe2dc804.js"><link rel="prefetch" href="/assets/js/159.7fcfba8a.js"><link rel="prefetch" href="/assets/js/16.3c452877.js"><link rel="prefetch" href="/assets/js/160.6378374a.js"><link rel="prefetch" href="/assets/js/161.fa197520.js"><link rel="prefetch" href="/assets/js/162.3a80f76d.js"><link rel="prefetch" href="/assets/js/163.6c158630.js"><link rel="prefetch" href="/assets/js/164.9b65d161.js"><link rel="prefetch" href="/assets/js/165.ad445591.js"><link rel="prefetch" href="/assets/js/166.91b604ed.js"><link rel="prefetch" href="/assets/js/167.c4f556d8.js"><link rel="prefetch" href="/assets/js/168.d6d33931.js"><link rel="prefetch" href="/assets/js/169.fa165b32.js"><link rel="prefetch" href="/assets/js/17.1f4764e9.js"><link rel="prefetch" href="/assets/js/170.21d8ba04.js"><link rel="prefetch" href="/assets/js/171.730a6bb0.js"><link rel="prefetch" href="/assets/js/172.4cf50d55.js"><link rel="prefetch" href="/assets/js/173.c0e9eab4.js"><link rel="prefetch" href="/assets/js/174.aa4a1578.js"><link rel="prefetch" href="/assets/js/175.13d6c4de.js"><link rel="prefetch" href="/assets/js/176.2b5be0f8.js"><link rel="prefetch" href="/assets/js/177.83b7ec17.js"><link rel="prefetch" href="/assets/js/178.b16fb8f5.js"><link rel="prefetch" href="/assets/js/179.be5ce17b.js"><link rel="prefetch" href="/assets/js/18.e13fc20e.js"><link rel="prefetch" href="/assets/js/180.20b41a44.js"><link rel="prefetch" href="/assets/js/181.e9700b09.js"><link rel="prefetch" href="/assets/js/182.5f866fdd.js"><link rel="prefetch" href="/assets/js/183.74ebb44a.js"><link rel="prefetch" href="/assets/js/184.59ea20d6.js"><link rel="prefetch" href="/assets/js/185.20131e00.js"><link rel="prefetch" href="/assets/js/186.06f58211.js"><link rel="prefetch" href="/assets/js/187.2a2ff101.js"><link rel="prefetch" href="/assets/js/188.497faede.js"><link rel="prefetch" href="/assets/js/189.9e53eb49.js"><link rel="prefetch" href="/assets/js/19.65ca8473.js"><link rel="prefetch" href="/assets/js/190.1da3b601.js"><link rel="prefetch" href="/assets/js/191.db06d208.js"><link rel="prefetch" href="/assets/js/192.2c1cb91a.js"><link rel="prefetch" href="/assets/js/193.bec0dec8.js"><link rel="prefetch" href="/assets/js/194.3d2b1757.js"><link rel="prefetch" href="/assets/js/195.ce587dff.js"><link rel="prefetch" href="/assets/js/196.0d564a67.js"><link rel="prefetch" href="/assets/js/197.466edf40.js"><link rel="prefetch" href="/assets/js/198.c080573a.js"><link rel="prefetch" href="/assets/js/199.82a4fb27.js"><link rel="prefetch" href="/assets/js/20.50ab7146.js"><link rel="prefetch" href="/assets/js/200.239066c9.js"><link rel="prefetch" href="/assets/js/201.34a0886f.js"><link rel="prefetch" href="/assets/js/203.ccf13517.js"><link rel="prefetch" href="/assets/js/204.1db9459e.js"><link rel="prefetch" href="/assets/js/205.b6aa2de8.js"><link rel="prefetch" href="/assets/js/206.02cfe404.js"><link rel="prefetch" href="/assets/js/21.d925c5cd.js"><link rel="prefetch" href="/assets/js/22.c143a751.js"><link rel="prefetch" href="/assets/js/23.d40a20ba.js"><link rel="prefetch" href="/assets/js/24.f7158835.js"><link rel="prefetch" href="/assets/js/25.bf04a0f3.js"><link rel="prefetch" href="/assets/js/26.b09b330a.js"><link rel="prefetch" href="/assets/js/27.e8f900f2.js"><link rel="prefetch" href="/assets/js/28.00a541aa.js"><link rel="prefetch" href="/assets/js/29.6e22c308.js"><link rel="prefetch" href="/assets/js/3.b82d1909.js"><link rel="prefetch" href="/assets/js/30.dbe058c7.js"><link rel="prefetch" href="/assets/js/31.65af8fa4.js"><link rel="prefetch" href="/assets/js/32.ccc36201.js"><link rel="prefetch" href="/assets/js/33.77e64a94.js"><link rel="prefetch" href="/assets/js/34.441f8fd3.js"><link rel="prefetch" href="/assets/js/35.804b43ff.js"><link rel="prefetch" href="/assets/js/36.9892e513.js"><link rel="prefetch" href="/assets/js/37.f33818b6.js"><link rel="prefetch" href="/assets/js/38.5a371036.js"><link rel="prefetch" href="/assets/js/39.27ae9a8a.js"><link rel="prefetch" href="/assets/js/4.2df6fe54.js"><link rel="prefetch" href="/assets/js/40.e0c36730.js"><link rel="prefetch" href="/assets/js/41.6f86a3a9.js"><link rel="prefetch" href="/assets/js/42.5543efc6.js"><link rel="prefetch" href="/assets/js/43.719ff111.js"><link rel="prefetch" href="/assets/js/44.4cef5d5a.js"><link rel="prefetch" href="/assets/js/45.91cedbd9.js"><link rel="prefetch" href="/assets/js/46.e3c0a10d.js"><link rel="prefetch" href="/assets/js/47.958b5656.js"><link rel="prefetch" href="/assets/js/48.b2bc1476.js"><link rel="prefetch" href="/assets/js/49.129baeb2.js"><link rel="prefetch" href="/assets/js/5.1de3cb7e.js"><link rel="prefetch" href="/assets/js/50.9661985f.js"><link rel="prefetch" href="/assets/js/51.6d8fb71b.js"><link rel="prefetch" href="/assets/js/52.316609dd.js"><link rel="prefetch" href="/assets/js/53.106ddc66.js"><link rel="prefetch" href="/assets/js/54.2abe36bd.js"><link rel="prefetch" href="/assets/js/55.c1be17f0.js"><link rel="prefetch" href="/assets/js/56.70e20736.js"><link rel="prefetch" href="/assets/js/57.b06302ad.js"><link rel="prefetch" href="/assets/js/58.7c1ddd8e.js"><link rel="prefetch" href="/assets/js/59.c5f89c74.js"><link rel="prefetch" href="/assets/js/6.bd855a5e.js"><link rel="prefetch" href="/assets/js/60.c4e3efea.js"><link rel="prefetch" href="/assets/js/61.bb7e50d2.js"><link rel="prefetch" href="/assets/js/62.ca2b309c.js"><link rel="prefetch" href="/assets/js/63.19143e20.js"><link rel="prefetch" href="/assets/js/64.31cc4df8.js"><link rel="prefetch" href="/assets/js/65.80260bfe.js"><link rel="prefetch" href="/assets/js/66.f683f96b.js"><link rel="prefetch" href="/assets/js/67.6a88a48a.js"><link rel="prefetch" href="/assets/js/68.fedd3d59.js"><link rel="prefetch" href="/assets/js/69.197da1e2.js"><link rel="prefetch" href="/assets/js/7.145e2f29.js"><link rel="prefetch" href="/assets/js/70.f0a9ba17.js"><link rel="prefetch" href="/assets/js/71.619792bf.js"><link rel="prefetch" href="/assets/js/72.2ca98ff3.js"><link rel="prefetch" href="/assets/js/73.11bb6707.js"><link rel="prefetch" href="/assets/js/74.d490d60a.js"><link rel="prefetch" href="/assets/js/75.45364ec8.js"><link rel="prefetch" href="/assets/js/76.9147bfe4.js"><link rel="prefetch" href="/assets/js/77.4f14ce1c.js"><link rel="prefetch" href="/assets/js/78.d1e11b2f.js"><link rel="prefetch" href="/assets/js/79.9f0d68d8.js"><link rel="prefetch" href="/assets/js/8.649d554c.js"><link rel="prefetch" href="/assets/js/80.9f5ff10e.js"><link rel="prefetch" href="/assets/js/81.d7522a88.js"><link rel="prefetch" href="/assets/js/82.1180bba3.js"><link rel="prefetch" href="/assets/js/83.23030662.js"><link rel="prefetch" href="/assets/js/84.4a22d921.js"><link rel="prefetch" href="/assets/js/85.68f041e2.js"><link rel="prefetch" href="/assets/js/86.d9cc95d5.js"><link rel="prefetch" href="/assets/js/87.0a408d68.js"><link rel="prefetch" href="/assets/js/88.0a4eae6f.js"><link rel="prefetch" href="/assets/js/89.ad61edb6.js"><link rel="prefetch" href="/assets/js/9.16079c0b.js"><link rel="prefetch" href="/assets/js/90.cda91dc0.js"><link rel="prefetch" href="/assets/js/91.cad80f48.js"><link rel="prefetch" href="/assets/js/92.378dd8cd.js"><link rel="prefetch" href="/assets/js/93.c491c614.js"><link rel="prefetch" href="/assets/js/94.0ac9ace2.js"><link rel="prefetch" href="/assets/js/95.4ad0b330.js"><link rel="prefetch" href="/assets/js/96.2837000e.js"><link rel="prefetch" href="/assets/js/97.167f09e2.js"><link rel="prefetch" href="/assets/js/98.bb93c126.js"><link rel="prefetch" href="/assets/js/99.53400169.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8140c838.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/logo.png" alt="SubQuery Docs" class="logo"> <span class="site-name can-hide">SubQuery Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://explorer.subquery.network/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Explorer
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://project.subquery.network/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Projects
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="https://github.com/subquery/subql" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://explorer.subquery.network/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Explorer
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://project.subquery.network/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Projects
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="https://github.com/subquery/subql" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Welcome to SubQuery</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/quickstart/quickstart" class="sidebar-heading clickable"><span>Quick Start Guide</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/install/install" class="sidebar-heading clickable"><span>Installation</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/create/introduction" class="sidebar-heading clickable"><span>Create a Project</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/run/run" class="sidebar-heading clickable"><span>Run a Project</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/publish/publish" class="sidebar-heading clickable"><span>Publish a Project</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/query/query" class="sidebar-heading clickable"><span>Query your Data</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/tutorials_examples/introduction" class="sidebar-heading clickable"><span>Tutorials &amp; Examples</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/faqs/faqs.html" class="sidebar-link">FAQs</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/miscellaneous/contributing" class="sidebar-heading clickable"><span>Miscellaneous</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="running-subquery-locally"><a href="#running-subquery-locally" class="header-anchor">#</a> Running SubQuery Locally</h1> <p>This guide works through how to run a local SubQuery node on your infrastructure, which includes both the indexer and query service. Don't want to worry about running your own SubQuery infrastructure? SubQuery provides a <a href="https://explorer.subquery.network" target="_blank" rel="noopener noreferrer">managed hosted service<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to the community for free. <a href="/zh/publish/publish.html">Follow our publishing guide</a> to see how you can upload your project to <a href="https://project.subquery.network" target="_blank" rel="noopener noreferrer">SubQuery Projects<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="using-docker"><a href="#using-docker" class="header-anchor">#</a> Using Docker</h2> <p>An alternative solution is to run a <strong>Docker Container</strong>, defined by the <code>docker-compose.yml</code> file. For a new project that has been just initialised you won't need to change anything here.</p> <p>Under the project directory run the following command:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>docker-compose pull <span class="token operator">&amp;&amp;</span> docker-compose up
</code></pre></div><p>It may take some time to download the required packages (<a href="https://www.npmjs.com/package/@subql/node" target="_blank" rel="noopener noreferrer"><code>@subql/node</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://www.npmjs.com/package/@subql/query" target="_blank" rel="noopener noreferrer"><code>@subql/query</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, and Postgres) for the first time but soon you'll see a running SubQuery node.</p> <h2 id="running-an-indexer-subql-node"><a href="#running-an-indexer-subql-node" class="header-anchor">#</a> Running an Indexer (subql/node)</h2> <p>Requirements:</p> <ul><li><a href="https://www.postgresql.org/" target="_blank" rel="noopener noreferrer">Postgres<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> database (version 12 or higher). While the <a href="#start-a-local-subquery-node">SubQuery node</a> is indexing the blockchain, the extracted data is stored in an external database instance.</li></ul> <p>A SubQuery node is an implementation that extracts substrate-based blockchain data per the SubQuery project and saves it into a Postgres database.</p> <h3 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># NPM</span>
<span class="token function">npm</span> <span class="token function">install</span> -g @subql/node
</code></pre></div><p>Please note that we <strong>DO NOT</strong> encourage the use of <code>yarn global</code> due to its poor dependency management which may lead to an errors down the line.</p> <p>Once installed, you can start a node with the following command:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>subql-node <span class="token operator">&lt;</span>command<span class="token operator">&gt;</span>
</code></pre></div><h3 id="key-commands"><a href="#key-commands" class="header-anchor">#</a> Key Commands</h3> <p>The following commands will assist you to complete the configuration of a SubQuery node and begin indexing. To find out more, you can always run <code>--help</code>.</p> <h4 id="point-to-local-project-path"><a href="#point-to-local-project-path" class="header-anchor">#</a> Point to local project path</h4> <div class="language- extra-class"><pre class="language-text"><code>subql-node -f your-project-path
</code></pre></div><h4 id="using-a-dictionary"><a href="#using-a-dictionary" class="header-anchor">#</a> Using a Dictionary</h4> <p>Using a full chain dictionary can dramatically speed up the processing of a SubQuery project during testing or during your first index. In some cases, we've seen indexing performance increases of up to 10x.</p> <p>A full chain dictionary pre-indexes the location of all events and extrinsics within the specific chain and allows your node service to skip to relevant locations when indexing rather than inspecting each block.</p> <p>You can add the dictionary endpoint in your <code>project.yaml</code> file (see <a href="/zh/create/manifest.html">Manifest File</a>), or specify it at run time using the following command:</p> <div class="language- extra-class"><pre class="language-text"><code>subql-node --network-dictionary=https://api.subquery.network/sq/subquery/dictionary-polkadot
</code></pre></div><h4 id="connect-to-database"><a href="#connect-to-database" class="header-anchor">#</a> Connect to database</h4> <div class="language- extra-class"><pre class="language-text"><code>export DB_USER=postgres
export DB_PASS=postgres
export DB_DATABASE=postgres
export DB_HOST=localhost
export DB_POST=5432
subql-node -f your-project-path 
</code></pre></div><p>Depending on the configuration of your Postgres database (e.g. a different database password), please ensure also that both the indexer (<code>subql/node</code>) and the query service (<code>subql/query</code>) can establish a connection to it.</p> <h4 id="specify-a-configuration-file"><a href="#specify-a-configuration-file" class="header-anchor">#</a> Specify a configuration file</h4> <div class="language- extra-class"><pre class="language-text"><code>subql-node -c your-project-config.yml
</code></pre></div><p>This will point the query node to a configuration file which can be in YAML or JSON format. Check out the example below.</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">subquery</span><span class="token punctuation">:</span> ../../../../subql<span class="token punctuation">-</span>example/extrinsics
<span class="token key atrule">subqueryName</span><span class="token punctuation">:</span> extrinsics
batchSize<span class="token punctuation">:</span><span class="token number">100</span>
localMode<span class="token punctuation">:</span><span class="token boolean important">true</span>
</code></pre></div><h4 id="change-the-block-fetching-batch-size"><a href="#change-the-block-fetching-batch-size" class="header-anchor">#</a> Change the block fetching batch size</h4> <div class="language- extra-class"><pre class="language-text"><code>subql-node -f your-project-path --batch-size 200

Result:
[IndexerManager] fetch block [203, 402]
[IndexerManager] fetch block [403, 602]
</code></pre></div><p>When the indexer first indexes the chain, fetching single blocks will significantly decrease the performance. Increasing the batch size to adjust the number of blocks fetched will decrease the overall processing time. The current default batch size is 100.</p> <h4 id="local-mode"><a href="#local-mode" class="header-anchor">#</a> Local mode</h4> <div class="language- extra-class"><pre class="language-text"><code>subql-node -f your-project-path --local
</code></pre></div><p>For debugging purposes, users can run the node in local mode. Switching to local model will create Postgres tables in the default schema <code>public</code>.</p> <p>If local mode is not used, a new Postgres schema with the initial <code>subquery_</code> and corresponding project tables will be created.</p> <h2 id="running-a-query-service-subql-query"><a href="#running-a-query-service-subql-query" class="header-anchor">#</a> Running a Query Service (subql/query)</h2> <h3 id="installation-2"><a href="#installation-2" class="header-anchor">#</a> Installation</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># NPM</span>
<span class="token function">npm</span> <span class="token function">install</span> -g @subql/query
</code></pre></div><p>Please note that we <strong>DO NOT</strong> encourage the use of <code>yarn global</code> due to its poor dependency management which may lead to an errors down the line.</p> <h3 id="running-the-query-service"><a href="#running-the-query-service" class="header-anchor">#</a> Running the Query service</h3> <p>``` export DB_HOST=localhost subql-query --name &lt;project_name&gt; --playground ````</p> <p>Make sure the project name is the same as the project name when you <a href="/zh/quickstart/quickstart.html#initialise-the-starter-subquery-project">initialize the project</a>. Also, check the environment variables are correct.</p> <p>After running the subql-query service successfully, open your browser and head to <code>http://localhost:3000</code>. You should see a GraphQL playground showing in the Explorer and the schema that is ready to query.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/10/2021, 2:22:57 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.903a0347.js" defer></script><script src="/assets/js/2.55fe9868.js" defer></script><script src="/assets/js/202.d6321a69.js" defer></script>
  </body>
</html>
