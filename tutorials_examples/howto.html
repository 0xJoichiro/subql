<!DOCTYPE html>
<html lang="English">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Tutorials | SubQuery Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Explore and transform your chain data to build intuitive dApps faster!.">
    
    <link rel="preload" href="/assets/css/0.styles.8140c838.css" as="style"><link rel="preload" href="/assets/js/app.298da94e.js" as="script"><link rel="preload" href="/assets/js/2.55fe9868.js" as="script"><link rel="preload" href="/assets/js/29.0583c229.js" as="script"><link rel="prefetch" href="/assets/js/10.b0a59540.js"><link rel="prefetch" href="/assets/js/11.39887549.js"><link rel="prefetch" href="/assets/js/12.1dc72cad.js"><link rel="prefetch" href="/assets/js/13.26a2c3bf.js"><link rel="prefetch" href="/assets/js/14.bfea80cf.js"><link rel="prefetch" href="/assets/js/15.aea06584.js"><link rel="prefetch" href="/assets/js/16.7f4b549b.js"><link rel="prefetch" href="/assets/js/17.e44a7b0e.js"><link rel="prefetch" href="/assets/js/18.8dc7b684.js"><link rel="prefetch" href="/assets/js/19.1a3f9b13.js"><link rel="prefetch" href="/assets/js/20.3a531377.js"><link rel="prefetch" href="/assets/js/21.5d30a697.js"><link rel="prefetch" href="/assets/js/22.1b7c6ec0.js"><link rel="prefetch" href="/assets/js/23.830e167d.js"><link rel="prefetch" href="/assets/js/24.9d72ccbb.js"><link rel="prefetch" href="/assets/js/25.adadd6c6.js"><link rel="prefetch" href="/assets/js/26.f2dd6694.js"><link rel="prefetch" href="/assets/js/27.d5956563.js"><link rel="prefetch" href="/assets/js/28.9f88e46f.js"><link rel="prefetch" href="/assets/js/3.c1509cc8.js"><link rel="prefetch" href="/assets/js/30.51bd537a.js"><link rel="prefetch" href="/assets/js/31.6b1c6383.js"><link rel="prefetch" href="/assets/js/4.2df6fe54.js"><link rel="prefetch" href="/assets/js/5.1de3cb7e.js"><link rel="prefetch" href="/assets/js/6.bd855a5e.js"><link rel="prefetch" href="/assets/js/7.145e2f29.js"><link rel="prefetch" href="/assets/js/8.649d554c.js"><link rel="prefetch" href="/assets/js/9.16079c0b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8140c838.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/logo.png" alt="SubQuery Docs" class="logo"> <span class="site-name can-hide">SubQuery Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://explorer.subquery.network/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Explorer
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://project.subquery.network/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Projects
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="https://github.com/subquery/subql" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://explorer.subquery.network/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Explorer
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://project.subquery.network/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Projects
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="https://github.com/subquery/subql" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Welcome to SubQuery</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/quickstart/quickstart" class="sidebar-heading clickable"><span>Quick Start Guide</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/install/install" class="sidebar-heading clickable"><span>Installation</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/create/introduction" class="sidebar-heading clickable"><span>Create a Project</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/run/run" class="sidebar-heading clickable"><span>Run a Project</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/publish/publish" class="sidebar-heading clickable"><span>Publish a Project</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/query/query" class="sidebar-heading clickable"><span>Query your Data</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/tutorials_examples/introduction" class="sidebar-heading clickable open"><span>Tutorials &amp; Examples</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/tutorials_examples/howto.html" aria-current="page" class="active sidebar-link">Tutorials</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tutorials_examples/howto.html#how-to-start-at-a-different-block-height" class="sidebar-link">How to start at a different block height?</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tutorials_examples/howto.html#video-guide" class="sidebar-link">Video guide</a></li><li class="sidebar-sub-header"><a href="/tutorials_examples/howto.html#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/tutorials_examples/howto.html#why-not-start-from-zero" class="sidebar-link">Why not start from zero?</a></li><li class="sidebar-sub-header"><a href="/tutorials_examples/howto.html#what-are-the-drawbacks-of-not-starting-from-zero" class="sidebar-link">What are the drawbacks of not starting from zero?</a></li><li class="sidebar-sub-header"><a href="/tutorials_examples/howto.html#how-to-figure-out-the-current-blockchain-height" class="sidebar-link">How to figure out the current blockchain height?</a></li><li class="sidebar-sub-header"><a href="/tutorials_examples/howto.html#do-i-have-to-do-a-rebuild-or-a-codegen" class="sidebar-link">Do I have to do a rebuild or a codegen?</a></li></ul></li><li class="sidebar-sub-header"><a href="/tutorials_examples/howto.html#how-to-change-the-blockchain-fetching-batch-size" class="sidebar-link">How to change the blockchain fetching batch size?</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tutorials_examples/howto.html#video-guide-2" class="sidebar-link">Video guide</a></li><li class="sidebar-sub-header"><a href="/tutorials_examples/howto.html#introduction-2" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/tutorials_examples/howto.html#why-change-the-batch-size" class="sidebar-link">Why change the batch size?</a></li></ul></li></ul></li><li><a href="/tutorials_examples/terminology.html" class="sidebar-link">Terminology</a></li></ul></section></li><li><a href="/faqs/faqs.html" class="sidebar-link">FAQs</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/miscellaneous/contributing" class="sidebar-heading clickable"><span>Miscellaneous</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="tutorials"><a href="#tutorials" class="header-anchor">#</a> Tutorials</h1> <h2 id="how-to-start-at-a-different-block-height"><a href="#how-to-start-at-a-different-block-height" class="header-anchor">#</a> How to start at a different block height?</h2> <h3 id="video-guide"><a href="#video-guide" class="header-anchor">#</a> Video guide</h3> <figure class="video_container"><iframe src="https://www.youtube.com/embed/ZiNSXDMHmBk" frameborder="0" allowfullscreen="allowfullscreen"></iframe></figure> <h3 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h3> <p>By default, all starter projects start synchronising the blockchain from the genesis block. In otherwords, from block 1. For large blockchains, this can typically take days or even weeks to fully synchronise.</p> <p>To start a SubQuery node synchronising from a non-zero height, all you have to do is to modify your project.yaml file and change the startBlock key.</p> <p>Below is a project.yaml file where the start block has been set to 1,000,000</p> <div class="language-shell extra-class"><pre class="language-shell"><code>specVersion: <span class="token number">0.0</span>.1
description: <span class="token string">&quot;&quot;</span>
repository: <span class="token string">&quot;&quot;</span>
schema: ./schema.graphql
network:
  endpoint: wss://polkadot.api.onfinality.io/public-ws
  dictionary: https://api.subquery.network/sq/subquery/dictionary-polkadot
dataSources:
  - name: main
    kind: substrate/Runtime
    startBlock: <span class="token number">1000000</span>
    mapping:
      handlers:
        - handler: handleBlock
          kind: substrate/BlockHandler
</code></pre></div><h3 id="why-not-start-from-zero"><a href="#why-not-start-from-zero" class="header-anchor">#</a> Why not start from zero?</h3> <p>The main reason is that it can reduce the time to synchronise the blockchain. This means that if you are only interested in transactions in the last 3 months, you can only synchronise the last 3 months worth meaning less waiting time and you can start your development faster.</p> <h3 id="what-are-the-drawbacks-of-not-starting-from-zero"><a href="#what-are-the-drawbacks-of-not-starting-from-zero" class="header-anchor">#</a> What are the drawbacks of not starting from zero?</h3> <p>The most obvious drawback will be that you won’t be able to query for data on the blockchain for blocks that you don’t have.</p> <h3 id="how-to-figure-out-the-current-blockchain-height"><a href="#how-to-figure-out-the-current-blockchain-height" class="header-anchor">#</a> How to figure out the current blockchain height?</h3> <p>If you are using the Polkadot network, you can visit <a href="https://polkascan.io/" target="_blank" rel="noopener noreferrer">https://polkascan.io/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, select the network, and then view the  &quot;Finalised Block&quot; figure.</p> <h3 id="do-i-have-to-do-a-rebuild-or-a-codegen"><a href="#do-i-have-to-do-a-rebuild-or-a-codegen" class="header-anchor">#</a> Do I have to do a rebuild or a codegen?</h3> <p>No. Because you are modifying the project.yaml file, which is essentially a configuration file, you will not have to rebuild or regenerate the typescript code.</p> <h2 id="how-to-change-the-blockchain-fetching-batch-size"><a href="#how-to-change-the-blockchain-fetching-batch-size" class="header-anchor">#</a> How to change the blockchain fetching batch size?</h2> <h3 id="video-guide-2"><a href="#video-guide-2" class="header-anchor">#</a> Video guide</h3> <figure class="video_container"><iframe src="https://www.youtube.com/embed/LO_Gea_IN_s" frameborder="0" allowfullscreen="allowfullscreen"></iframe></figure> <h3 id="introduction-2"><a href="#introduction-2" class="header-anchor">#</a> Introduction</h3> <p>The default batch size is 100, but this can be changed by using the extra command <code>--batch-size=xx</code>.</p> <p>You need to this to the command line as an extra flag or if you are using Docker, modify the docker-compose.yml with:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>subquery-node:
    image: onfinality/subql-node:latest
    depends_on:
      - <span class="token string">&quot;postgres&quot;</span>
    restart: always
    environment:
      DB_USER: postgres
      DB_PASS: postgres
      DB_DATABASE: postgres
      DB_HOST: postgres
      DB_PORT: <span class="token number">5432</span>
    volumes:
      - ./:/app
    command:
      - -f<span class="token operator">=</span>/app
      - --local
      - --batch-size<span class="token operator">=</span><span class="token number">50</span>

</code></pre></div><p>This example sets the batch size to 50.</p> <h3 id="why-change-the-batch-size"><a href="#why-change-the-batch-size" class="header-anchor">#</a> Why change the batch size?</h3> <p>Using a smaller batch size can reduce memory usage and not leave users hanging for large queries. In otherwords, your application can be more responsive. However, more API calls are being made so if you are being charged on an I/O basis or if you have API limits somewhere in your chain, this could work to your disadvantage.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/4/2021, 1:14:57 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/query/graphql.html" class="prev">
        Learn more about GraphQL
      </a></span> <span class="next"><a href="/tutorials_examples/terminology.html">
        Terminology
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.298da94e.js" defer></script><script src="/assets/js/2.55fe9868.js" defer></script><script src="/assets/js/29.0583c229.js" defer></script>
  </body>
</html>
