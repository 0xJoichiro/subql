(window.webpackJsonp=window.webpackJsonp||[]).push([[178],{727:function(t,r,e){"use strict";e.r(r);var a=e(1),s=Object(a.a)({},(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"краткое-руководство-пользователя"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#краткое-руководство-пользователя"}},[t._v("#")]),t._v(" Краткое руководство пользователя")]),t._v(" "),e("p",[t._v("В этом кратком руководстве мы собираемся создать простой стартовый проект, который вы можете использовать в качестве основы для разработки собственного проекта SubQuery.")]),t._v(" "),e("p",[t._v("В конце этого руководства у вас будет рабочий проект SubQuery, запущенный на узле SubQuery с конечной точкой GraphQL, из которой вы можете запрашивать данные.")]),t._v(" "),e("p",[t._v("Если вы еще этого не сделали, мы предлагаем вам ознакомиться с "),e("RouterLink",{attrs:{to:"/ru/#terminology"}},[t._v(" терминологией ")]),t._v(", используемой в SubQuery.")],1),t._v(" "),e("h2",{attrs:{id:"подготовка"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#подготовка"}},[t._v("#")]),t._v(" Подготовка")]),t._v(" "),e("h3",{attrs:{id:"местная-среда-развития"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#местная-среда-развития"}},[t._v("#")]),t._v(" Местная среда развития")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.typescriptlang.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v(" Typescript "),e("OutboundLink")],1),t._v(" необходим для компиляции проекта и определения типов.")]),t._v(" "),e("li",[t._v("И SubQuery CLI, и сгенерированный Project имеют зависимости и требуют современной версии "),e("a",{attrs:{href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"}},[t._v(" Node "),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("li",[t._v("SubQuery нода требует Docker")])]),t._v(" "),e("h3",{attrs:{id:"установите-subquery-cli"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#установите-subquery-cli"}},[t._v("#")]),t._v(" Установите SubQuery CLI")]),t._v(" "),e("p",[t._v("Установите SubQuery CLI глобально на свой терминалe с помощью NPM:")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# NPM")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g @subql/cli\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("Обратите внимание, что мы ** НЕ ** поощряем использование "),e("code",[t._v("yarn global")]),t._v(" из-за его плохого управления зависимостями, что может привести к ошибкам в дальнейшем.")]),t._v(" "),e("p",[t._v("Затем вы можете запустить справку, чтобы увидеть доступные команды и использование, предоставляемые CLI")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("subql "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("help")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("h2",{attrs:{id:"инициализировать-начальныи-проект-подзапроса"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#инициализировать-начальныи-проект-подзапроса"}},[t._v("#")]),t._v(" Инициализировать начальный проект подзапроса")]),t._v(" "),e("p",[t._v("Внутри каталога, в котором вы хотите создать проект SubQuery, просто замените "),e("code",[t._v("PROJECT_NAME")]),t._v(" своим собственным и выполните команду:")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("subql init --starter PROJECT_NAME\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("При инициализации проекта SubQuery вам будут заданы определенные вопросы:")]),t._v(" "),e("ul",[e("li",[t._v("Репозиторий Git (необязательно): укажите URL-адрес Git для репо, в котором будет размещен этот проект SubQuery (при размещении в SubQuery Explorer)")]),t._v(" "),e("li",[t._v("Конечная точка RPC (обязательно): укажите URL-адрес wss для работающей конечной точки RPC, которая будет использоваться по умолчанию для этого проекта. Вы можете быстро получить доступ к общедоступным конечным точкам для различных сетей Polkadot или даже создать свой собственный выделенный частный узел с помощью "),e("a",{attrs:{href:"https://app.onfinality.io",target:"_blank",rel:"noopener noreferrer"}},[t._v(" OnFinality "),e("OutboundLink")],1),t._v(" или просто использовать конечную точку Polkadot по умолчанию.")]),t._v(" "),e("li",[t._v("Авторы (обязательно): введите здесь владельца этого проекта SubQuery")]),t._v(" "),e("li",[t._v("Описание (необязательно): вы можете предоставить короткий абзац о своем проекте, описывающий, какие данные он содержит и что пользователи могут с ними делать")]),t._v(" "),e("li",[t._v("Версия (обязательно): введите собственный номер версии или используйте значение по умолчанию ("),e("code",[t._v("1.0.0")]),t._v(")")]),t._v(" "),e("li",[t._v("Лицензия (обязательно): предоставьте лицензию на программное обеспечение для этого проекта или примите лицензию по умолчанию ("),e("code",[t._v("Apache-2.0")]),t._v(")")])]),t._v(" "),e("p",[t._v("После завершения процесса инициализации вы должны увидеть, что внутри каталога была создана папка с именем вашего проекта. Содержимое этого каталога должно быть идентично тому, что указано в "),e("RouterLink",{attrs:{to:"/ru/create/introduction.html#directory-structure"}},[t._v(" структуре каталога ")]),t._v(".")],1),t._v(" "),e("p",[t._v("Наконец, в каталоге проекта выполните следующую команду, чтобы установить зависимости нового проекта.")]),t._v(" "),e("CodeGroup",[t._v(" cd PROJECT_NAME # Yarn yarn install # NPM npm install В основном вы будете работать со следующими файлами:\n"),e("ul",[e("li",[t._v("The Manifest in "),e("code",[t._v("project.yaml")])]),t._v(" "),e("li",[t._v("The GraphQL Schema in "),e("code",[t._v("schema.graphql")])]),t._v(" "),e("li",[t._v("В основном вы будете работать со следующими файлами: ")])]),t._v(" "),e("p",[t._v("Для получения дополнительной информации о том, как написать свой собственный подзапрос, ознакомьтесь с нашей документацией в разделе "),e("RouterLink",{attrs:{to:"/ru/create/introduction.html"}},[t._v(" Создание проекта ")])],1),t._v(" "),e("h3",{attrs:{id:"создание-модели-graphql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#создание-модели-graphql"}},[t._v("#")]),t._v(" Создание модели GraphQL")]),t._v(" "),e("p",[t._v("Чтобы "),e("RouterLink",{attrs:{to:"/ru/run/run.html"}},[t._v(" проиндексировать ")]),t._v(" ваш проект SubQuery, вы должны сначала сгенерировать необходимые модели GraphQL, которые вы определили в своем файле схемы GraphQL ("),e("code",[t._v("schema.graphql")]),t._v("). Выполните эту команду в корне каталога проекта.")],1),t._v(" "),e("CodeGroup",[t._v(" # Yarn yarn codegen # NPM npm run-script codegen\n"),e("h2",{attrs:{id:"построить-проект"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#построить-проект"}},[t._v("#")]),t._v(" Построить проект")]),t._v(" "),e("p",[t._v("Чтобы запустить проект SubQuery на локально размещенной ноде SubQuery, вам необходимо построить свою работу.")]),t._v(" "),e("p",[t._v("Запустите команду сборки из корневого каталога проекта.")]),t._v(" "),e("CodeGroup",[t._v(" All configuration that controls how a SubQuery node is run is defined in this `docker-compose.yml` file. Для нового проекта, который был только что инициализирован, вам не нужно здесь ничего менять, но вы можете узнать больше о файле и настройках в разделе [ Запуск проекта ](../run/run.md)\n"),e("p",[t._v("В каталоге проекта выполните следующую команду:")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("docker-compose pull "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" docker-compose up\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("Первая загрузка необходимых пакетов ("),e("a",{attrs:{href:"https://www.npmjs.com/package/@subql/node",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("@ subql / node")]),e("OutboundLink")],1),t._v(", "),e("a",{attrs:{href:"https://www.npmjs.com/package/@subql/query",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("@ subql / query")]),e("OutboundLink")],1),t._v(" и Postgres) может занять некоторое время, но вскоре вы увидите запущенную ноду SubQuery.")]),t._v(" "),e("h3",{attrs:{id:"запросите-свои-проект"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#запросите-свои-проект"}},[t._v("#")]),t._v(" Запросите свой проект")]),t._v(" "),e("p",[t._v("Откройте браузер и перейдите по адресу "),e("a",{attrs:{href:"http://localhost:3000",target:"_blank",rel:"noopener noreferrer"}},[t._v(" http: // localhost: 3000 "),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("p",[t._v("Вы должны увидеть игровую площадку GraphQL, отображаемую в проводнике, и схемы, готовые к запросу. В правом верхнем углу игровой площадки вы найдете кнопку _ Документы _, которая откроет розыгрыш документации. Эта документация создается автоматически и помогает вам найти, какие сущности и методы вы можете запрашивать.")]),t._v(" "),e("p",[t._v("Для нового начального проекта SubQuery вы можете попробовать следующий запрос, чтобы понять, как он работает, или "),e("RouterLink",{attrs:{to:"/ru/query/graphql.html"}},[t._v(" узнать больше о языке запросов GraphQL ")]),t._v(".")],1),t._v(" "),e("div",{staticClass:"language-graphql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-graphql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("query")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    starterEntities"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("first")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      nodes "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        field1\n        field2\n        field3\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br")])]),e("h2",{attrs:{id:"следующие-шаги"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#следующие-шаги"}},[t._v("#")]),t._v(" Следующие шаги")]),t._v(" "),e("p",[t._v("Поздравляем, теперь у вас есть локально работающий проект SubQuery, который принимает запросы GraphQL API для демонстрационных данных. В следующем руководстве мы покажем вам, как опубликовать ваш новый проект в "),e("a",{attrs:{href:"https://project.subquery.network",target:"_blank",rel:"noopener noreferrer"}},[t._v(" SubQuery Projects "),e("OutboundLink")],1),t._v(" и запросить его с помощью нашего "),e("a",{attrs:{href:"https://explorer.subquery.network",target:"_blank",rel:"noopener noreferrer"}},[t._v(" Explorer "),e("OutboundLink")],1)]),t._v(" "),e("p",[e("RouterLink",{attrs:{to:"/ru/publish/publish.html"}},[t._v("Опубликуйте свой новый проект в SubQuery Projects")])],1)])],1)],1)],1)}),[],!1,null,null,null);r.default=s.exports}}]);