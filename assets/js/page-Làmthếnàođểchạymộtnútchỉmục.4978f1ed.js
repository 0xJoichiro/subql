(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{955:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"lam-the-nao-đe-chay-mot-nut-chi-muc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lam-the-nao-đe-chay-mot-nut-chi-muc"}},[t._v("#")]),t._v(" Làm thế nào để chạy một nút chỉ mục?")]),t._v(" "),a("h2",{attrs:{id:"video-huong-dan"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-huong-dan"}},[t._v("#")]),t._v(" Video hướng dẫn")]),t._v(" "),a("figure",{staticClass:"video_container"},[a("iframe",{attrs:{src:"https://www.youtube.com/embed/QfNsR12ItnA",frameborder:"0",allowfullscreen:"true"}})]),t._v(" "),a("h2",{attrs:{id:"gioi-thieu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gioi-thieu"}},[t._v("#")]),t._v(" Giới thiệu")]),t._v(" "),a("p",[t._v("Chạy một nút chỉ mục là một tùy chọn khác ngoài việc sử dụng Docker hoặc có một dự án được lưu trữ cho bạn tại "),a("a",{attrs:{href:"https://project.subquery.network/",target:"_blank",rel:"noopener noreferrer"}},[t._v(" Dự án SubQuery "),a("OutboundLink")],1),t._v(". Nó đòi hỏi nhiều thời gian và nỗ lực hơn nhưng sẽ nâng cao hiểu biết của bạn về cách SubQuery hoạt động.")]),t._v(" "),a("h2",{attrs:{id:"postgres"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#postgres"}},[t._v("#")]),t._v(" Postgres")]),t._v(" "),a("p",[t._v("Chạy một nút chỉ mục trên cơ sở hạ tầng của bạn sẽ yêu cầu thiết lập cơ sở dữ liệu Postgres. Bạn có thể cài đặt Postgres "),a("a",{attrs:{href:"https://www.postgresql.org/download/",target:"_blank",rel:"noopener noreferrer"}},[t._v(" tại đây "),a("OutboundLink")],1),t._v(" và đảm bảo phiên bản 12 trở lên.")]),t._v(" "),a("h2",{attrs:{id:"cai-đat-subql-node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cai-đat-subql-node"}},[t._v("#")]),t._v(" Cài đặt subql / node")]),t._v(" "),a("p",[t._v("Sau đó, để chạy một nút SubQuery, hãy chạy lệnh sau:")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g @subql/node\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Cờ -g có nghĩa là cài đặt nó trên toàn cầu, có nghĩa là trên OSX, vị trí sẽ là / usr / local / lib / node_modules.")]),t._v(" "),a("p",[t._v("Sau khi cài đặt, bạn có thể kiểm tra phiên bản bằng cách chạy:")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" subql-node --version\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.19")]),t._v(".1\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h2",{attrs:{id:"đat-cau-hinh-db"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#đat-cau-hinh-db"}},[t._v("#")]),t._v(" Đặt cấu hình DB")]),t._v(" "),a("p",[t._v("Tiếp theo, bạn cần đặt các biến môi trường sau:")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("DB_USER")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("postgres\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("DB_PASS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("postgres\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("DB_DATABASE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("postgres\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("DB_HOST")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("localhost\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("DB_PORT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5432")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("Tất nhiên, nếu bạn có các giá trị khác nhau cho các phím trên, vui lòng điều chỉnh cho phù hợp. Lưu ý rằng lệnh "),a("code",[t._v("env")]),t._v(" sẽ hiển thị các biến môi trường hiện tại và quá trình này chỉ đặt các giá trị này tạm thời. Có nghĩa là, chúng chỉ có hiệu lực trong khoảng thời gian của phiên đầu cuối. Để đặt chúng vĩnh viễn, hãy lưu trữ chúng trong ~/bash_profile của bạn.")]),t._v(" "),a("h2",{attrs:{id:"lap-chi-muc-mot-du-an"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lap-chi-muc-mot-du-an"}},[t._v("#")]),t._v(" Lập chỉ mục một dự án")]),t._v(" "),a("p",[t._v("Để bắt đầu lập chỉ mục một dự án, hãy điều hướng vào thư mục dự án của bạn và chạy lệnh sau:")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("subql-node -f "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Nếu bạn không có dự án nào hữu ích, hãy "),a("code",[t._v("git clone https://github.com/subquery/subql-helloworld")]),t._v(". Bạn sẽ thấy nút lập chỉ mục bắt đầu hoạt động và bắt đầu lập chỉ mục các khối.")]),t._v(" "),a("h2",{attrs:{id:"kiem-tra-postgres"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kiem-tra-postgres"}},[t._v("#")]),t._v(" Kiểm tra Postgres")]),t._v(" "),a("p",[t._v("Nếu bạn điều hướng đến Postgres, bạn sẽ thấy hai bảng được tạo. "),a("code",[t._v("public.subqueries")]),t._v(" và "),a("code",[t._v("subquery_1.starter_entities")]),t._v(".")]),t._v(" "),a("p",[a("code",[t._v("public.subqueries")]),t._v(' chỉ chứa 1 hàng mà trình lập chỉ mục kiểm tra khi khởi động để "hiểu trạng thái hiện tại" để nó biết phải tiếp tục từ đâu. Bảng '),a("code",[t._v("starter_entities")]),t._v(" chứa các chỉ mục. Để xem dữ liệu, hãy chạy "),a("code",[t._v("select (*) from subquery_1.starter_entities")]),t._v(".")])])}),[],!1,null,null,null);s.default=e.exports}}]);