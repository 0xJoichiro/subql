(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{509:function(t,a,s){"use strict";s.r(a);var n=s(1),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"learn-more-about-graphql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#learn-more-about-graphql"}},[t._v("#")]),t._v(" Learn more about GraphQL")]),t._v(" "),s("p",[t._v("You can follow the "),s("a",{attrs:{href:"https://graphql.org/learn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("official GraphQL guide here"),s("OutboundLink")],1),t._v(" to learn more about GraphQL, how it works, and how to use it:")]),t._v(" "),s("ul",[s("li",[t._v("There are libraries to help you implement GraphQL in "),s("a",{attrs:{href:"https://graphql.org/code/",target:"_blank",rel:"noopener noreferrer"}},[t._v("many different languages"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("For an in-depth learning experience with practical tutorials, see "),s("a",{attrs:{href:"https://www.howtographql.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to GraphQL"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("li",[t._v("Check out the free online course, "),s("a",{attrs:{href:"https://www.edx.org/course/exploring-graphql-a-query-language-for-apis",target:"_blank",rel:"noopener noreferrer"}},[t._v("Exploring GraphQL: A Query Language for APIs"),s("OutboundLink")],1),t._v(".")])])])}),[],!1,null,null,null);a.default=e.exports},540:function(t,a,s){"use strict";s.r(a);var n=s(1),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"learn-more-about-graphql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#learn-more-about-graphql"}},[t._v("#")]),t._v(" Learn more about GraphQL")]),t._v(" "),s("p",[t._v("You can follow the "),s("a",{attrs:{href:"https://graphql.org/learn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("official GraphQL guide here"),s("OutboundLink")],1),t._v(" to learn more about GraphQL, how it works, and how to use it:")]),t._v(" "),s("ul",[s("li",[t._v("There are libraries to help you implement GraphQL in "),s("a",{attrs:{href:"https://graphql.org/code/",target:"_blank",rel:"noopener noreferrer"}},[t._v("many different languages"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("For an in-depth learning experience with practical tutorials, see "),s("a",{attrs:{href:"https://www.howtographql.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to GraphQL"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("li",[t._v("Check out the free online course, "),s("a",{attrs:{href:"https://www.edx.org/course/exploring-graphql-a-query-language-for-apis",target:"_blank",rel:"noopener noreferrer"}},[t._v("Exploring GraphQL: A Query Language for APIs"),s("OutboundLink")],1),t._v(".")])])])}),[],!1,null,null,null);a.default=e.exports},604:function(t,a,s){"use strict";s.r(a);var n=s(1),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"learn-more-about-graphql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#learn-more-about-graphql"}},[t._v("#")]),t._v(" Learn more about GraphQL")]),t._v(" "),s("p",[t._v("You can follow the "),s("a",{attrs:{href:"https://graphql.org/learn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("official GraphQL guide here"),s("OutboundLink")],1),t._v(" to learn more about GraphQL, how it works, and how to use it:")]),t._v(" "),s("ul",[s("li",[t._v("There are libraries to help you implement GraphQL in "),s("a",{attrs:{href:"https://graphql.org/code/",target:"_blank",rel:"noopener noreferrer"}},[t._v("many different languages"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("For an in-depth learning experience with practical tutorials, see "),s("a",{attrs:{href:"https://www.howtographql.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to GraphQL"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("li",[t._v("Check out the free online course, "),s("a",{attrs:{href:"https://www.edx.org/course/exploring-graphql-a-query-language-for-apis",target:"_blank",rel:"noopener noreferrer"}},[t._v("Exploring GraphQL: A Query Language for APIs"),s("OutboundLink")],1),t._v(".")])])])}),[],!1,null,null,null);a.default=e.exports},622:function(t,a,s){"use strict";s.r(a);var n=s(1),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"learn-more-about-graphql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#learn-more-about-graphql"}},[t._v("#")]),t._v(" Learn more about GraphQL")]),t._v(" "),s("h2",{attrs:{id:"エンティティの定義"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#エンティティの定義"}},[t._v("#")]),t._v(" エンティティの定義")]),t._v(" "),s("p",[s("code",[t._v("schema.graphql")]),t._v(" ファイルは、様々なGraphQLスキーマを定義します。 GraphQL クエリ言語の機能により、スキーマファイルは基本的に SubQuery からデータの型を決定します。 There are libraries to help you implement GraphQL in "),s("a",{attrs:{href:"https://graphql.org/code/",target:"_blank",rel:"noopener noreferrer"}},[t._v("many different languages"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("strong",[t._v("重要: スキーマファイルに変更を加えた場合、コマンド "),s("code",[t._v("yarn codegen")]),t._v(" を使用してtypesディレクトリを再生成してください")])]),t._v(" "),s("h3",{attrs:{id:"エンティティ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#エンティティ"}},[t._v("#")]),t._v(" エンティティ")]),t._v(" "),s("p",[t._v("各エンティティは必要なフィールド "),s("code",[t._v("id")]),t._v(" を "),s("code",[t._v("ID!")]),t._v(" の型で定義する必要があります。 これは、主キーとして使用され、同じ型のすべてのエンティティの間でユニークです。")]),t._v(" "),s("p",[t._v("エンティティの null ではないフィールドは "),s("code",[t._v("!")]),t._v(" で示されます。 以下の例をご覧ください。")]),t._v(" "),s("div",{staticClass:"language-graphql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Example")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@entity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# id field is always required and must look like this")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# This is a required field")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("address")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# This is an optional field")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"サポートされているスカラー型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#サポートされているスカラー型"}},[t._v("#")]),t._v(" サポートされているスカラー型")]),t._v(" "),s("p",[t._v("現在、次のスカラー型をサポートしています：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("ID")])]),t._v(" "),s("li",[s("code",[t._v("Int")])]),t._v(" "),s("li",[s("code",[t._v("String")])]),t._v(" "),s("li",[s("code",[t._v("BigInt")])]),t._v(" "),s("li",[s("code",[t._v("Date")])]),t._v(" "),s("li",[s("code",[t._v("Boolean")])]),t._v(" "),s("li",[s("code",[t._v("<EntityName>")]),t._v(" をネストされたリレーションエンティティには、定義されたエンティティの名前をフィールドの1つとして使用することができます。 "),s("a",{attrs:{href:"#entity-relationships"}},[t._v("エンティティの関係")]),t._v(" を参照してください。")]),t._v(" "),s("li",[s("code",[t._v("JSON")]),t._v(" は構造化されたデータを格納することができます。 "),s("a",{attrs:{href:"#json-type"}},[t._v("JSON type")]),t._v(" を参照してください。")])]),t._v(" "),s("h2",{attrs:{id:"非プライマリキーフィールドによるインデックス"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#非プライマリキーフィールドによるインデックス"}},[t._v("#")]),t._v(" 非プライマリキーフィールドによるインデックス")]),t._v(" "),s("p",[t._v("クエリのパフォーマンスを向上させるために、主キーでないフィールドに "),s("code",[t._v("@index")]),t._v(" アノテーションを実装するだけで、エンティティフィールドにインデックスを付けます。")]),t._v(" "),s("p",[t._v("ただし、 "),s("code",[t._v("JSON")]),t._v(" オブジェクトに "),s("a",{attrs:{href:"#json-type"}},[t._v("@index")]),t._v(" アノテーションを追加することはできません。 デフォルトでは、インデックスは外部キーとデータベース内の JSON フィールドに自動的に追加されますが、クエリーサービスのパフォーマンスを向上させるためにのみ追加されます。")]),t._v(" "),s("p",[t._v("次に例を示します。")]),t._v(" "),s("div",{staticClass:"language-graphql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@entity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@index")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("unique")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# unique can be set to true or false")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Indexes are automatically added to foreign key field ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Title")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@entity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("  \n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@index")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("unique")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("p",[t._v("このユーザーの名前を知っていたとしても、正確な id がわかりません。 すべてのユーザーを抽出し、名前でフィルタリングするのではなく、 "),s("code",[t._v("@index")]),t._v(" を名前フィールドの後ろに追加することができます。 これによりクエリの処理がより速くなり、さらに"),s("code",[t._v("unique: true")]),t._v("を渡す事で一意性を確保します。")]),t._v(" "),s("p",[s("strong",[t._v("フィールドが一意でない場合、最大結果セットサイズは100です")])]),t._v(" "),s("p",[t._v("When code generation is run, this will automatically create a "),s("code",[t._v("getByName")]),t._v(" under the "),s("code",[t._v("User")]),t._v(" model, and the foreign key field "),s("code",[t._v("title")]),t._v(" will create a "),s("code",[t._v("getByTitleId")]),t._v(" method, which both can directly be accessed in the mapping function.")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Prepare a record for title entity */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" titles "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VALUES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id_1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Captain'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("div",{staticClass:"language-typescript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Handler in mapping function")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("User"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../types/models/User"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../types/models/Title"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" jack "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" User"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getByName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Jack Sparrow'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" captainTitle "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getByName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Captain'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pirateLords "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" User"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getByTitleId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("captainTitle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// List of all Captains")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h2",{attrs:{id:"エンティティリレーションシップ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#エンティティリレーションシップ"}},[t._v("#")]),t._v(" エンティティリレーションシップ")]),t._v(" "),s("p",[t._v("エンティティは、多くの場合、他のエンティティとネストされたリレーションシップを持ちます。 フィールド値を別のエンティティ名に設定すると、デフォルトでこれら2つのエンティティ間の1対1のリレーションシップが定義されます。")]),t._v(" "),s("p",[t._v("異なるエンティティリレーションシップ(1対1、1対多、および多対多)は、以下の例を使用して構成できます。")]),t._v(" "),s("h3",{attrs:{id:"_1対1のリレーションシップ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1対1のリレーションシップ"}},[t._v("#")]),t._v(" 1対1のリレーションシップ")]),t._v(" "),s("p",[t._v("1対1のリレーションは、単一のエンティティのみが別のエンティティにマップされる場合のデフォルトです。")]),t._v(" "),s("p",[t._v("例: パスポートは1人のみに属し、1つのパスポートしか持っていません(この例では、パスポートは1つだけです):")]),t._v(" "),s("div",{staticClass:"language-graphql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Person")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@entity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Passport")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@entity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("owner")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Person"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("または")]),t._v(" "),s("div",{staticClass:"language-graphql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Person")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@entity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("passport")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Passport"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Passport")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@entity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("owner")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Person"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h3",{attrs:{id:"_1対多のリレーションシップ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1対多のリレーションシップ"}},[t._v("#")]),t._v(" 1対多のリレーションシップ")]),t._v(" "),s("p",[t._v("フィールドタイプに複数のエンティティが含まれていることを示すために、角括弧を使用することができます。")]),t._v(" "),s("p",[t._v("例: 人は複数のアカウントを持つことができます。")]),t._v(" "),s("div",{staticClass:"language-graphql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Person")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@entity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("accounts")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Account")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@entity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("publicAddress")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h3",{attrs:{id:"多対多のリレーションシップ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多対多のリレーションシップ"}},[t._v("#")]),t._v(" 多対多のリレーションシップ")]),t._v(" "),s("p",[t._v("他の2つのエンティティを接続するマッピングエンティティを実装することで、多対多のリレーションを実現することができます。")]),t._v(" "),s("p",[t._v("例: 各人は複数のグループ (PersonGroup) の一部であり、グループは複数の異なる人 (PersonGroup) がいます。")]),t._v(" "),s("div",{staticClass:"language-graphql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Person")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@entity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("groups")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("PersonGroup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PersonGroup")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@entity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("person")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Person"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("Group")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Group"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Group")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@entity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("persons")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("PersonGroup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br")])]),s("p",[t._v("また、中間エンティティの複数のフィールドに同じエンティティの接続を作成することもできます。")]),t._v(" "),s("p",[t._v("たとえば、1つの口座には複数の転送が可能で、それぞれの転送には転送元と宛先の口座があります。")]),t._v(" "),s("p",[t._v("これにより、転送テーブルを介して2つのアカウント間の双方向の関係が確立されます。")]),t._v(" "),s("div",{staticClass:"language-graphql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Account")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@entity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("publicAddress")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Transfer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@entity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("amount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" BigInt\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Account"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Account"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h3",{attrs:{id:"逆引き参照"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#逆引き参照"}},[t._v("#")]),t._v(" 逆引き参照")]),t._v(" "),s("p",[t._v("リレーションに対するエンティティの逆ルックアップを有効にするには、 "),s("code",[t._v("@derivedFrom")]),t._v(" をフィールドに添付し、別のエンティティの逆参照フィールドを指します。")]),t._v(" "),s("p",[t._v("クエリ可能なエンティティ上に仮想フィールドが作成されます。")]),t._v(" "),s("p",[t._v("アカウントからの転送は、sentTransferまたはreceivedTransferを、それぞれのフィールドから取得した値として設定することで、アカウントエンティティからアクセスできます。")]),t._v(" "),s("div",{staticClass:"language-graphql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Account")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@entity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("publicAddress")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("sentTransfers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Transfer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@derivedFrom")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("field")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"from"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("receivedTransfers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Transfer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@derivedFrom")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("field")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"to"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Transfer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@entity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("amount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" BigInt\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Account"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Account"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("h2",{attrs:{id:"json-タイプ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#json-タイプ"}},[t._v("#")]),t._v(" JSON タイプ")]),t._v(" "),s("p",[t._v("構造化されたデータを格納するための迅速な方法であるJSON型としてデータの保存をサポートしています。 このデータを照会するために対応する JSON インターフェイスを自動的に生成し、エンティティの定義と管理にかかる時間を節約します。")]),t._v(" "),s("p",[t._v("次のシナリオでは、ユーザーが JSON 型を使用することを推奨します。")]),t._v(" "),s("ul",[s("li",[t._v("構造化されたデータを1つのフィールドに格納する場合、複数の個別のエンティティを作成するよりも管理が可能です。")]),t._v(" "),s("li",[t._v("任意のキー/値のユーザー設定の保存（値がbool値、テキスト、数値のいずれかであり、異なるデータタイプのために別々の列を持ちたくない場合）。")]),t._v(" "),s("li",[t._v("スキーマは不安定で頻繁に変更されます")])]),t._v(" "),s("h3",{attrs:{id:"json-ディレクティブを定義"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#json-ディレクティブを定義"}},[t._v("#")]),t._v(" JSON ディレクティブを定義")]),t._v(" "),s("p",[s("code",[t._v("jsonField")]),t._v(" アノテーションをエンティティに追加することで、プロパティを JSON 型として定義します。 これにより、プロジェクト内のすべてのJSONオブジェクトのインターフェイスが"),s("code",[t._v("types/interfaces.ts")]),t._v("に自動的に生成され、マッピング関数でそれらにアクセスできるようになります。")]),t._v(" "),s("p",[t._v("エンティティとは異なり、jsonFieldディレクティブオブジェクトは"),s("code",[t._v("id")]),t._v("フィールドを必須としません。 JSON オブジェクトは他の JSON オブジェクトとともにネストすることもできます。")]),t._v(" "),s("div",{staticClass:"language-graphql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AddressDetail")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@jsonField")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("street")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("district")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ContactCard")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@jsonField")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("phone")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("address")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" AddressDetail "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Nested JSON")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@entity")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ID"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("contact")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ContactCard"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Store a list of JSON objects")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("h3",{attrs:{id:"json-フィールドのクエリ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#json-フィールドのクエリ"}},[t._v("#")]),t._v(" JSON フィールドのクエリ")]),t._v(" "),s("p",[t._v("JSON型を使用することの欠点は、テキスト検索を行うたびにエンティティ全体を対象としているため、フィルタリング時のクエリ効率に若干の影響があることです。")]),t._v(" "),s("p",[t._v("しかし、その影響はクエリサービスではまだ許容範囲内です。 ここでは、JSONフィールドのGraphQLクエリで"),s("code",[t._v("contains")]),t._v("演算子を使用して、”0064”を含む電話番号を所有する最初の5人のユーザーを検索する例を紹介します。")]),t._v(" "),s("div",{staticClass:"language-graphql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#To find the the first 5 users own phone numbers contains '0064'.")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("query")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("first")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("filter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("contactCard")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("contains")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("phone")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0064"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    nodes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      id\n      contactCard\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])])])}),[],!1,null,null,null);a.default=e.exports},636:function(t,a,s){"use strict";s.r(a);var n=s(1),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"learn-more-about-graphql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#learn-more-about-graphql"}},[t._v("#")]),t._v(" Learn more about GraphQL")]),t._v(" "),s("p",[t._v("You can follow the "),s("a",{attrs:{href:"https://graphql.org/learn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("official GraphQL guide here"),s("OutboundLink")],1),t._v(" to learn more about GraphQL, how it works, and how to use it:")]),t._v(" "),s("ul",[s("li",[t._v("There are libraries to help you implement GraphQL in "),s("a",{attrs:{href:"https://graphql.org/code/",target:"_blank",rel:"noopener noreferrer"}},[t._v("many different languages"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("For an in-depth learning experience with practical tutorials, see "),s("a",{attrs:{href:"https://www.howtographql.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to GraphQL"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("li",[t._v("Check out the free online course, "),s("a",{attrs:{href:"https://www.edx.org/course/exploring-graphql-a-query-language-for-apis",target:"_blank",rel:"noopener noreferrer"}},[t._v("Exploring GraphQL: A Query Language for APIs"),s("OutboundLink")],1),t._v(".")])])])}),[],!1,null,null,null);a.default=e.exports},668:function(t,a,s){"use strict";s.r(a);var n=s(1),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"learn-more-about-graphql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#learn-more-about-graphql"}},[t._v("#")]),t._v(" Learn more about GraphQL")]),t._v(" "),s("p",[t._v("You can follow the "),s("a",{attrs:{href:"https://graphql.org/learn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("official GraphQL guide here"),s("OutboundLink")],1),t._v(" to learn more about GraphQL, how it works, and how to use it:")]),t._v(" "),s("ul",[s("li",[t._v("There are libraries to help you implement GraphQL in "),s("a",{attrs:{href:"https://graphql.org/code/",target:"_blank",rel:"noopener noreferrer"}},[t._v("many different languages"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("For an in-depth learning experience with practical tutorials, see "),s("a",{attrs:{href:"https://www.howtographql.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to GraphQL"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("li",[t._v("Check out the free online course, "),s("a",{attrs:{href:"https://www.edx.org/course/exploring-graphql-a-query-language-for-apis",target:"_blank",rel:"noopener noreferrer"}},[t._v("Exploring GraphQL: A Query Language for APIs"),s("OutboundLink")],1),t._v(".")])])])}),[],!1,null,null,null);a.default=e.exports},692:function(t,a,s){"use strict";s.r(a);var n=s(1),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"learn-more-about-graphql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#learn-more-about-graphql"}},[t._v("#")]),t._v(" Learn more about GraphQL")]),t._v(" "),s("p",[t._v("You can follow the "),s("a",{attrs:{href:"https://graphql.org/learn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("official GraphQL guide here"),s("OutboundLink")],1),t._v(" to learn more about GraphQL, how it works, and how to use it:")]),t._v(" "),s("ul",[s("li",[t._v("There are libraries to help you implement GraphQL in "),s("a",{attrs:{href:"https://graphql.org/code/",target:"_blank",rel:"noopener noreferrer"}},[t._v("many different languages"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("For an in-depth learning experience with practical tutorials, see "),s("a",{attrs:{href:"https://www.howtographql.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to GraphQL"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("li",[t._v("Check out the free online course, "),s("a",{attrs:{href:"https://www.edx.org/course/exploring-graphql-a-query-language-for-apis",target:"_blank",rel:"noopener noreferrer"}},[t._v("Exploring GraphQL: A Query Language for APIs"),s("OutboundLink")],1),t._v(".")])])])}),[],!1,null,null,null);a.default=e.exports},819:function(t,a,s){"use strict";s.r(a);var n=s(1),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"learn-more-about-graphql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#learn-more-about-graphql"}},[t._v("#")]),t._v(" Learn more about GraphQL")]),t._v(" "),s("p",[t._v("Ви можете слідувати "),s("a",{attrs:{href:"https://graphql.org/learn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("офіційному посібнику GraphQL тут "),s("OutboundLink")],1),t._v(", щоб дізнатися більше про GraphQL, як він працює та як ним користуватися:")]),t._v(" "),s("ul",[s("li",[t._v("There are libraries to help you implement GraphQL in "),s("a",{attrs:{href:"https://graphql.org/code/",target:"_blank",rel:"noopener noreferrer"}},[t._v("many different languages"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("For an in-depth learning experience with practical tutorials, see "),s("a",{attrs:{href:"https://www.howtographql.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to GraphQL"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("li",[t._v("Check out the free online course, "),s("a",{attrs:{href:"https://www.edx.org/course/exploring-graphql-a-query-language-for-apis",target:"_blank",rel:"noopener noreferrer"}},[t._v("Exploring GraphQL: A Query Language for APIs"),s("OutboundLink")],1),t._v(".")])])])}),[],!1,null,null,null);a.default=e.exports},901:function(t,a,s){"use strict";s.r(a);var n=s(1),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"learn-more-about-graphql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#learn-more-about-graphql"}},[t._v("#")]),t._v(" Learn more about GraphQL")]),t._v(" "),s("p",[t._v("You can follow the "),s("a",{attrs:{href:"https://graphql.org/learn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("official GraphQL guide here"),s("OutboundLink")],1),t._v(" to learn more about GraphQL, how it works, and how to use it:")]),t._v(" "),s("ul",[s("li",[t._v("There are libraries to help you implement GraphQL in "),s("a",{attrs:{href:"https://graphql.org/code/",target:"_blank",rel:"noopener noreferrer"}},[t._v("many different languages"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("For an in-depth learning experience with practical tutorials, see "),s("a",{attrs:{href:"https://www.howtographql.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to GraphQL"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("li",[t._v("Check out the free online course, "),s("a",{attrs:{href:"https://www.edx.org/course/exploring-graphql-a-query-language-for-apis",target:"_blank",rel:"noopener noreferrer"}},[t._v("Exploring GraphQL: A Query Language for APIs"),s("OutboundLink")],1),t._v(".")])])])}),[],!1,null,null,null);a.default=e.exports}}]);