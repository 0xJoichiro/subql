(self.webpackChunksubql_mono=self.webpackChunksubql_mono||[]).push([[494],{8426:(e,t,n)=>{"use strict";n.r(t),n.d(t,{data:()=>l});const l={key:"v-61c88f22",path:"/run/sandbox.html",title:"The Sandbox",lang:"English",frontmatter:{},excerpt:"",headers:[{level:2,title:"Restriction",slug:"restriction",children:[]}],filePathRelative:"run/sandbox.md",git:{updatedTime:1623493577e3,contributors:[]}}},5231:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var l=n(6252);const o=(0,l.Wm)("h1",{id:"the-sandbox"},[(0,l.Wm)("a",{class:"header-anchor",href:"#the-sandbox"},"#"),(0,l.Uk)(" The Sandbox")],-1),s=(0,l.Wm)("p",null,"In our envisioned usage scenario, the SubQuery node is usually run by a trusted host, and the code of the SubQuery project submitted by the user to the node is not entirely trustworthy.",-1),a=(0,l.Uk)("Some malicious code is likely to attack the host or even compromise it, and cause damage to the data of other projects in the same host. Therefore, we use the "),r={href:"https://www.npmjs.com/package/vm2",target:"_blank",rel:"noopener noreferrer"},u=(0,l.Uk)("VM2"),i=(0,l.Uk)(" sandbox secured mechanism to reduce risks. This:"),d=(0,l.Wm)("ul",null,[(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"Runs untrusted code securely in an isolated context and malicious code will not access network and file system of the host, unless through the exposed interface we injected into the sandbox.")]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"Securely calls methods and exchange data and callbacks between sandboxes.")]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"Is immune to many known methods of attacks.")])],-1),m=(0,l.Wm)("h2",{id:"restriction"},[(0,l.Wm)("a",{class:"header-anchor",href:"#restriction"},"#"),(0,l.Uk)(" Restriction")],-1),c=(0,l.Wm)("li",null,[(0,l.Wm)("p",null,[(0,l.Uk)("To limit access to certain built-in modules, only "),(0,l.Wm)("code",null,"assert"),(0,l.Uk)(","),(0,l.Wm)("code",null,"buffer"),(0,l.Uk)(","),(0,l.Wm)("code",null,"crypto"),(0,l.Uk)(","),(0,l.Wm)("code",null,"util"),(0,l.Uk)(" and "),(0,l.Wm)("code",null,"path"),(0,l.Uk)(" are whitelisted.")])],-1),h=(0,l.Uk)("We support "),k=(0,l.Uk)("3rd party modules"),W=(0,l.Uk)(" written in "),p=(0,l.Wm)("strong",null,"CommonJS",-1),b=(0,l.Uk)(" and "),f=(0,l.Wm)("strong",null,"hybrid",-1),U=(0,l.Uk)(" libraries like "),y=(0,l.Wm)("code",null,"@polkadot/*",-1),w=(0,l.Uk)(" that uses ESM as default."),g=(0,l.Wm)("li",null,[(0,l.Wm)("p",null,[(0,l.Uk)("Any modules using "),(0,l.Wm)("code",null,"HTTP"),(0,l.Uk)(" and "),(0,l.Wm)("code",null,"WebSocket"),(0,l.Uk)(" are forbidden.")])],-1),x={render:function(e,t){const n=(0,l.up)("OutboundLink"),x=(0,l.up)("RouterLink");return(0,l.wg)(),(0,l.j4)(l.HY,null,[o,s,(0,l.Wm)("p",null,[a,(0,l.Wm)("a",r,[u,(0,l.Wm)(n)]),i]),d,m,(0,l.Wm)("ul",null,[c,(0,l.Wm)("li",null,[(0,l.Wm)("p",null,[h,(0,l.Wm)(x,{to:"/run/create/mapping.html#third-party-libraries"},{default:(0,l.w5)((()=>[k])),_:1}),W,p,b,f,U,y,w])]),g])],64)}}}}]);