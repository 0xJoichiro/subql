(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{570:function(a,s,t){"use strict";t.r(s);var n=t(1),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"esquema-graphql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#esquema-graphql"}},[a._v("#")]),a._v(" Esquema GraphQL")]),a._v(" "),t("h2",{attrs:{id:"definicion-de-entidades"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#definicion-de-entidades"}},[a._v("#")]),a._v(" Definición de entidades")]),a._v(" "),t("p",[a._v("El archivo "),t("code",[a._v("schema.graphql")]),a._v(" define los diversos esquemas GraphQL. Debido a la forma en que funciona el lenguaje de consulta de GraphQL, el archivo de esquema esencialmente dicta la forma de sus datos de SubQuery. Para obtener más información sobre cómo escribir en el lenguaje de esquema GraphQL, recomendamos revisar "),t("a",{attrs:{href:"https://graphql.org/learn/schema/#type-language",target:"_blank",rel:"noopener noreferrer"}},[a._v("Esquemas y tipos"),t("OutboundLink")],1),a._v(".")]),a._v(" "),t("p",[t("strong",[a._v("Importante: Cuando haga cambios en el archivo de esquema, por favor, asegúrate de regenerar el directorio de tus tipos con el siguiente comando "),t("code",[a._v("yarn codegen")])])]),a._v(" "),t("h3",{attrs:{id:"entidades"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#entidades"}},[a._v("#")]),a._v(" Entidades")]),a._v(" "),t("p",[a._v("Cada entidad debe definir sus campos requeridos "),t("code",[a._v("id")]),a._v(" con el tipo de "),t("code",[a._v("ID!")]),a._v(". Se utiliza como la clave primaria y única entre todas las entidades del mismo tipo.")]),a._v(" "),t("p",[a._v("Los campos que no aceptan valores Null en la entidad se indican mediante "),t("code",[a._v("!")]),a._v(". Por favor vea el ejemplo a continuación:")]),a._v(" "),t("div",{staticClass:"language-graphql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-graphql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Example")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@entity")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# campo id siempre es obligatorio y debe verse como este")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" String"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Este es un campo obligatorio")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("address")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" String "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Este es un campo opcional")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])]),t("h3",{attrs:{id:"escalares-y-tipos-soportados"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#escalares-y-tipos-soportados"}},[a._v("#")]),a._v(" Escalares y tipos soportados")]),a._v(" "),t("p",[a._v("Actualmente soportamos tipos de escalares fluidos:")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("ID")])]),a._v(" "),t("li",[t("code",[a._v("Int")])]),a._v(" "),t("li",[t("code",[a._v("String")])]),a._v(" "),t("li",[t("code",[a._v("BigInt")])]),a._v(" "),t("li",[t("code",[a._v("Float")])]),a._v(" "),t("li",[t("code",[a._v("Date")])]),a._v(" "),t("li",[t("code",[a._v("Boolean")])]),a._v(" "),t("li",[t("code",[a._v("<EntityName>")]),a._v(" para entidades de relación anidadas, puede utilizar el nombre de la entidad definida como uno de los campos. Consulte "),t("a",{attrs:{href:"#entity-relationships"}},[a._v("Relaciones con Entidades")]),a._v(".")]),a._v(" "),t("li",[t("code",[a._v("JSON")]),a._v(" puede almacenar datos estructurados alternativamente, consulte "),t("a",{attrs:{href:"#json-type"}},[a._v("tipo JSON")])]),a._v(" "),t("li",[t("code",[a._v("<EnumName>")]),a._v(" tipos son un tipo especial de escalar enumerado que está restringido a un conjunto particular de valores permitidos. Por favor vea "),t("a",{attrs:{href:"https://graphql.org/learn/schema/#enumeration-types",target:"_blank",rel:"noopener noreferrer"}},[a._v("Graphql Enum"),t("OutboundLink")],1)])]),a._v(" "),t("h2",{attrs:{id:"indexando-por-un-campo-de-clave-no-primaria"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#indexando-por-un-campo-de-clave-no-primaria"}},[a._v("#")]),a._v(" Indexando por un campo de clave no primaria")]),a._v(" "),t("p",[a._v("Para mejorar el rendimiento de la consulta, indexar un campo de entidad simplemente implementando la anotación "),t("code",[a._v("@index")]),a._v(" en un campo de clave no primaria.")]),a._v(" "),t("p",[a._v("Sin embargo, no permitimos que los usuarios añadan anotación "),t("code",[a._v("@index")]),a._v(" en cualquier objeto "),t("a",{attrs:{href:"#json-type"}},[a._v("JSON")]),a._v(". Por defecto, los índices se añaden automáticamente a las claves foráneas y para los campos JSON en la base de datos, pero sólo para mejorar el rendimiento del servicio de consultas.")]),a._v(" "),t("p",[a._v("Aquí tenemos un ejemplo.")]),a._v(" "),t("div",{staticClass:"language-graphql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-graphql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("User")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@entity")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" String"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@index")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("unique")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# unique puede establecerse en verdadero o falso")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("title")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Title"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Los índices se añaden automáticamente al campo de clave foránea ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Title")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@entity")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("  \n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" String"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@index")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("unique")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br")])]),t("p",[a._v("Asumiendo que conocíamos el nombre de este usuario, pero no conocemos el valor exacto del id, en lugar de extraer todos los usuarios y luego filtrar por nombre podemos añadir "),t("code",[a._v("@index")]),a._v(" detrás del campo nombre. Esto hace que la consulta sea mucho más rápida y además podemos pasar el "),t("code",[a._v("único: verdadero")]),a._v(" para asegurar la unidad.")]),a._v(" "),t("p",[t("strong",[a._v("Si un campo no es único, el tamaño máximo del conjunto de resultados es 100")])]),a._v(" "),t("p",[a._v("Cuando se ejecuta la generación de código, esto creará automáticamente un "),t("code",[a._v("getByName")]),a._v(" bajo el modelo "),t("code",[a._v("User")]),a._v(", y el campo de clave foránea "),t("code",[a._v("title")]),a._v(" creará un método "),t("code",[a._v("getByTitleId")]),a._v(", a la que se puede acceder directamente ambos en la función de mapeo.")]),a._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/* Prepara un registro para la entidad de título */")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("INSERT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("INTO")]),a._v(" titles "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VALUES")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'id_1'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'capitán'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("div",{staticClass:"language-typescript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-typescript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Handler in mapping function")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("User"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("from")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"../types/models/User"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("Title"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("from")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"../types/models/Title"')]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" jack "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("await")]),a._v(" User"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getByName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Jack Sparrow'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" captainTitle "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("await")]),a._v(" Title"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getByName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Captain'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" pirateLords "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("await")]),a._v(" User"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getByTitleId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("captainTitle"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// List of all Captains")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br")])]),t("h2",{attrs:{id:"relaciones-de-entidades"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#relaciones-de-entidades"}},[a._v("#")]),a._v(" Relaciones de Entidades")]),a._v(" "),t("p",[a._v("Una entidad a menudo tiene relaciones anidadas con otras entidades. Establecer el valor del campo a otro nombre de entidad definirá una relación uno a uno entre estas dos entidades por defecto.")]),a._v(" "),t("p",[a._v("Diferentes relaciones de entidad (uno a uno, uno a muchos, y muchos-a-muchos) pueden configurarse usando los ejemplos siguientes.")]),a._v(" "),t("h3",{attrs:{id:"relaciones-de-uno-a-uno"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#relaciones-de-uno-a-uno"}},[a._v("#")]),a._v(" Relaciones de uno a uno")]),a._v(" "),t("p",[a._v("Las relaciones de uno a uno son el valor por defecto cuando sólo una entidad es asignada a otra.")]),a._v(" "),t("p",[a._v("Ejemplo: Un pasaporte sólo pertenecerá a una persona y una persona sólo tiene un pasaporte (en este ejemplo):")]),a._v(" "),t("div",{staticClass:"language-graphql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-graphql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Person")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@entity")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Passport")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@entity")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("owner")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Person"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br")])]),t("p",[a._v("o")]),a._v(" "),t("div",{staticClass:"language-graphql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-graphql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Person")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@entity")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("passport")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Passport"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Passport")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@entity")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("owner")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Person"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br")])]),t("h3",{attrs:{id:"relaciones-de-uno-a-muchos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#relaciones-de-uno-a-muchos"}},[a._v("#")]),a._v(" Relaciones de Uno a Muchos")]),a._v(" "),t("p",[a._v("Puede usar corchetes cuadrados para indicar que un tipo de campo incluye múltiples entidades.")]),a._v(" "),t("p",[a._v("Ejemplo: Una persona puede tener múltiples cuentas.")]),a._v(" "),t("div",{staticClass:"language-graphql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-graphql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Person")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@entity")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("accounts")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Account"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Account")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@entity")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("publicAddress")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" String"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br")])]),t("h3",{attrs:{id:"relaciones-muchos-a-muchos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#relaciones-muchos-a-muchos"}},[a._v("#")]),a._v(" Relaciones Muchos-a-Muchos")]),a._v(" "),t("p",[a._v("Una relación muchos-a-muchos puede lograrse implementando una entidad de mapeo para conectar las otras dos entidades.")]),a._v(" "),t("p",[a._v("Ejemplo: Cada persona es parte de múltiples grupos (PersonGrup) y los grupos tienen múltiples personas diferentes (PersonGrup).")]),a._v(" "),t("div",{staticClass:"language-graphql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-graphql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Person")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@entity")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" String"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("groups")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("PersonGroup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("PersonGroup")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@entity")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("person")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Person"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("Group")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Group"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Group")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@entity")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" String"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("persons")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("PersonGroup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br")])]),t("p",[a._v("Además, es posible crear una conexión de la misma entidad en múltiples campos de la entidad media.")]),a._v(" "),t("p",[a._v("Por ejemplo, una cuenta puede tener múltiples transferencias, y cada transferencia tiene una cuenta de origen y destino.")]),a._v(" "),t("p",[a._v("Esto establecerá una relación bidireccional entre dos Cuentas (de y a) a través de la tabla Transferencia.")]),a._v(" "),t("div",{staticClass:"language-graphql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-graphql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Account")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@entity")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("publicAddress")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" String"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Transfer")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@entity")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("amount")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" BigInt\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("from")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Account"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("to")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Account"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br")])]),t("h3",{attrs:{id:"busqueda-inversa"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#busqueda-inversa"}},[a._v("#")]),a._v(" Búsqueda inversa")]),a._v(" "),t("p",[a._v("Para habilitar una búsqueda inversa en una entidad a una relación, adjunta "),t("code",[a._v("@derivedFrom")]),a._v(" al campo y apunta a su campo de búsqueda inversa de otra entidad.")]),a._v(" "),t("p",[a._v("Esto crea un campo virtual en la entidad que se puede consultar.")]),a._v(" "),t("p",[a._v('La transferencia "de" una Cuenta es accesible desde la entidad de la Cuenta estableciendo el sentTransfer o el receivedTransfer como teniendo su valor derivado de los respectivos campos from-de y to-para.')]),a._v(" "),t("div",{staticClass:"language-graphql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-graphql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Account")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@entity")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("publicAddress")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" String"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("sentTransfers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Transfer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@derivedFrom")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("field")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"from"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("receivedTransfers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Transfer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@derivedFrom")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("field")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"to"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Transfer")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@entity")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("amount")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" BigInt\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("from")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Account"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("to")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Account"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br")])]),t("h2",{attrs:{id:"tipo-json"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tipo-json"}},[a._v("#")]),a._v(" Tipo JSON")]),a._v(" "),t("p",[a._v("Estamos soportando guardar datos como un tipo JSON, que es una forma rápida de almacenar datos estructurados. Generaremos automáticamente interfaces JSON correspondientes para consultar estos datos y ahorraremos tiempo definiendo y gestionando entidades.")]),a._v(" "),t("p",[a._v("Recomendamos que los usuarios usen el tipo JSON en los siguientes escenarios:")]),a._v(" "),t("ul",[t("li",[a._v("Al almacenar datos estructurados en un solo campo es más manejable que la creación de múltiples entidades separadas.")]),a._v(" "),t("li",[a._v("Guardando las preferencias de usuario clave/valor arbitrario (donde el valor puede ser booleano, textual, o numérico, y no quiere tener columnas separadas para diferentes tipos de datos)")]),a._v(" "),t("li",[a._v("El esquema es volátil y cambia con frecuencia")])]),a._v(" "),t("h3",{attrs:{id:"define-la-directiva-json"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#define-la-directiva-json"}},[a._v("#")]),a._v(" Define la directiva JSON")]),a._v(" "),t("p",[a._v("Define la propiedad como un tipo JSON agregando la anotación "),t("code",[a._v("jsonField")]),a._v(" en la entidad. Esto automáticamente generará interfaces para todos los objetos JSON en su proyecto bajo "),t("code",[a._v("types/interfaces.ts")]),a._v(", y puedes acceder a ellos desde tu función de mapeo.")]),a._v(" "),t("p",[a._v("A diferencia de la entidad, el objeto de directiva jsonField no requiere ningún campo "),t("code",[a._v("id")]),a._v(". Un objeto JSON también es capaz de anidar con otros objetos JSON.")]),a._v(" "),t("div",{staticClass:"language-graphql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-graphql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("AddressDetail")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@jsonField")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("street")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" String"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("district")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" String"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ContactCard")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@jsonField")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("phone")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" String"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("address")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" AddressDetail "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Nested JSON")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("User")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token directive function"}},[a._v("@entity")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v(" \n  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("contact")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("ContactCard"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Almacenar una lista de objetos JSON")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br")])]),t("h3",{attrs:{id:"consulta-de-campos-json"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#consulta-de-campos-json"}},[a._v("#")]),a._v(" Consulta de campos JSON")]),a._v(" "),t("p",[a._v("El inconveniente del uso de tipos JSON es un ligero impacto en la eficiencia de la consulta al filtrar, como cada vez que realiza una búsqueda de texto, se encuentra en toda la entidad.")]),a._v(" "),t("p",[a._v("Sin embargo, el impacto sigue siendo aceptable en nuestro servicio de consultas. Aquí hay un ejemplo de cómo utilizar el operador "),t("code",[a._v("contains")]),a._v(" en la consulta GraphQL en un campo JSON para encontrar los 5 primeros usuarios que poseen un número de teléfono que contiene '0064'.")]),a._v(" "),t("div",{staticClass:"language-graphql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-graphql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#Para encontrar los primeros 5 usuarios de los números de teléfono contienen '0064'.")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("query")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("first")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("filter")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("contactCard")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("contains")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("phone")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"0064"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    nodes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n      id\n      contactCard\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);