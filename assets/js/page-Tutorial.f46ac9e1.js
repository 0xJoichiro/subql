(window.webpackJsonp=window.webpackJsonp||[]).push([[156],{659:function(a,n,s){"use strict";s.r(n);var e=s(1),i=Object(e.a)({},(function(){var a=this,n=a.$createElement,s=a._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"tutorial"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tutorial"}},[a._v("#")]),a._v(" Tutorial")]),a._v(" "),s("h2",{attrs:{id:"bagaimana-cara-mulai-di-tinggi-block-berbeda"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bagaimana-cara-mulai-di-tinggi-block-berbeda"}},[a._v("#")]),a._v(" Bagaimana cara mulai di tinggi block berbeda?")]),a._v(" "),s("h3",{attrs:{id:"panduan-video"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#panduan-video"}},[a._v("#")]),a._v(" Panduan video")]),a._v(" "),s("figure",{staticClass:"video_container"},[s("iframe",{attrs:{src:"https://www.youtube.com/embed/ZiNSXDMHmBk",frameborder:"0",allowfullscreen:"true"}})]),a._v(" "),s("h3",{attrs:{id:"pengenalan"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pengenalan"}},[a._v("#")]),a._v(" Pengenalan")]),a._v(" "),s("p",[a._v("Secara otomatis, semua proyek starter memulai sinkronisasi blockchain dari block genesis. Dengan kata lain, dari block 1. Untuk blockchain besar, ini biasanya membutuhkan beberapa hari atau bahkan minggu untuk sepenuhnya sinkronisasi.")]),a._v(" "),s("p",[a._v("Untuk mulai sinkronisasi node SubQuery dari tinggi bukan-nol, yang perlu dilakukan hanyalah memodifikasi file project.yaml dan mengubah kunci startBlock.")]),a._v(" "),s("p",[a._v("Berikut adalah file project.yaml di mana block mulainya sudah diatur ke 1.000.000")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("specVersion: "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".1\ndescription: "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\nrepository: "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\nschema: ./schema.graphql\nnetwork:\n  endpoint: wss://polkadot.api.onfinality.io/public-ws\n  dictionary: https://api.subquery.network/sq/subquery/dictionary-polkadot\ndataSources:\n  - name: main\n    kind: substrate/Runtime\n    startBlock: "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000000")]),a._v("\n    mapping:\n      handlers:\n        - handler: handleBlock\n          kind: substrate/BlockHandler\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br")])]),s("h3",{attrs:{id:"kenapa-tidak-mulai-dari-nol"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#kenapa-tidak-mulai-dari-nol"}},[a._v("#")]),a._v(" Kenapa tidak mulai dari nol?")]),a._v(" "),s("p",[a._v("Alasan utamanya adalah karena ini bisa mengurangi waktu sinkronisasi blockchain. Artinya jika anda hanya tertarik pada transaksi di 3 bulan terakhir, anda bisa hanya mengsinkronisasi hasil 3 bulan terakhir, dengan begitu mengurangi waktu menunggu dan anda bisa mulai pengembangan lebih cepat.")]),a._v(" "),s("h3",{attrs:{id:"apa-kekurangan-tidak-memulai-dari-nol"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#apa-kekurangan-tidak-memulai-dari-nol"}},[a._v("#")]),a._v(" Apa kekurangan tidak memulai dari nol?")]),a._v(" "),s("p",[a._v("Kekurangan paling jelas adalah anda tidak akan bisa melakukan query data di blockchain untuk block yang tidak anda miliki.")]),a._v(" "),s("h3",{attrs:{id:"bagaimana-cara-mengetahui-tinggi-blockchain-saat-ini"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bagaimana-cara-mengetahui-tinggi-blockchain-saat-ini"}},[a._v("#")]),a._v(" Bagaimana cara mengetahui tinggi blockchain saat ini?")]),a._v(" "),s("p",[a._v("Jika menggunakan jaringan Polkadot, anda bisa mengunjungi "),s("a",{attrs:{href:"https://polkascan.io/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://polkascan.io/"),s("OutboundLink")],1),a._v(', pilih jaringannya, dan lihat "Finalised Block".')]),a._v(" "),s("h3",{attrs:{id:"apa-saya-harus-membangun-ulang-atau-codegen"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#apa-saya-harus-membangun-ulang-atau-codegen"}},[a._v("#")]),a._v(" Apa saya harus membangun ulang atau codegen?")]),a._v(" "),s("p",[a._v("Tidak. Karena anda memodifikasi file project.yaml, yang merupakan file konfigurasi, anda tidak perlu membangun ulang atau menghasilkan lagi kode typescript-nya.")]),a._v(" "),s("h2",{attrs:{id:"bagaimana-cara-mengubah-ukuran-blockchain-fetching-batch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bagaimana-cara-mengubah-ukuran-blockchain-fetching-batch"}},[a._v("#")]),a._v(" Bagaimana cara mengubah ukuran blockchain fetching batch?")]),a._v(" "),s("h3",{attrs:{id:"panduan-video-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#panduan-video-2"}},[a._v("#")]),a._v(" Panduan video")]),a._v(" "),s("figure",{staticClass:"video_container"},[s("iframe",{attrs:{src:"https://www.youtube.com/embed/LO_Gea_IN_s",frameborder:"0",allowfullscreen:"true"}})]),a._v(" "),s("h3",{attrs:{id:"pengenalan-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pengenalan-2"}},[a._v("#")]),a._v(" Pengenalan")]),a._v(" "),s("p",[a._v("Ukuran batch default adalah 100, tapi ini bisa diubah menggunakan perintah ekstra "),s("code",[a._v("--batch-size=xx")]),a._v(".")]),a._v(" "),s("p",[a._v("Anda perlu memasukkannya ke garis perintah sebagai extra flag atau jika menggunakan Docker, modifikasi file docker-compose.yml dengan:")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("subquery-node:\n    image: onfinality/subql-node:latest\n    depends_on:\n      - "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"postgres"')]),a._v("\n    restart: always\n    environment:\n      DB_USER: postgres\n      DB_PASS: postgres\n      DB_DATABASE: postgres\n      DB_HOST: postgres\n      DB_PORT: "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5432")]),a._v("\n    volumes:\n      - ./:/app\n    command:\n      - -f"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/app\n      - --local\n      - --batch-size"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("50")]),a._v("\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br")])]),s("p",[a._v("Contoh ini mengatur ukuran batch (batch size) ke 50.")]),a._v(" "),s("h3",{attrs:{id:"kenapa-mengubah-ukuran-batch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#kenapa-mengubah-ukuran-batch"}},[a._v("#")]),a._v(" Kenapa mengubah ukuran batch?")]),a._v(" "),s("p",[a._v("Menggunakan ukuran batch yang lebih kecil bisa mengurangi penggunaan memori dan tidak membuat pengguna menunggu untuk query yang besar. Dengan kata lain, aplikasi anda bisa jadi lebih responsif. Namun, akan ada lebih banyak panggilan API yang dilakukan jadi jika anda dikenakan biaya dengan basis I/O atau jika anda memiliki batasan API di chain anda, ini bisa menjadi sebuah kekurangan.")])])}),[],!1,null,null,null);n.default=i.exports}}]);