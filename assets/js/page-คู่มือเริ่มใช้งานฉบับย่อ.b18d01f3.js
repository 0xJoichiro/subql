(window.webpackJsonp=window.webpackJsonp||[]).push([[194],{760:function(e,t,r){"use strict";r.r(t);var s=r(1),a=Object(s.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"คู่มือเริ่มใช้งานฉบับย่อ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#คู่มือเริ่มใช้งานฉบับย่อ"}},[e._v("#")]),e._v(" คู่มือเริ่มใช้งานฉบับย่อ")]),e._v(" "),r("p",[e._v("ในคู่มือการเริ่มต้นฉบับย่อนี้ เราจะสร้างโปรเจ็กต์เริ่มต้นอย่างง่ายที่คุณสามารถใช้เป็นเฟรมเวิร์คสำหรับการพัฒนา SubQuery Project ของคุณเองได้")]),e._v(" "),r("p",[e._v("หลังจบคู่มือนี้ คุณจะมีโปรเจ็กต์ SubQuery ที่ทำงานบนโหนด SubQuery และมี GraphQL endpoint ที่คุณสามารถสืบค้นข้อมูลได้")]),e._v(" "),r("p",[e._v("หากคุณยังไม่คุ้นเคย เราขอแนะนำให้คุณทำความคุ้นเคยกับ "),r("RouterLink",{attrs:{to:"/th/#terminology"}},[e._v("คำศัพท์")]),e._v(" ที่ใช้ใน SubQuery")],1),e._v(" "),r("h2",{attrs:{id:"การเตรียมความพร้อม"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#การเตรียมความพร้อม"}},[e._v("#")]),e._v(" การเตรียมความพร้อม")]),e._v(" "),r("h3",{attrs:{id:"สภาพแวดล้อมสําหรับการพัฒนาภายในตัวเครื่อง"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#สภาพแวดล้อมสําหรับการพัฒนาภายในตัวเครื่อง"}},[e._v("#")]),e._v(" สภาพแวดล้อมสำหรับการพัฒนาภายในตัวเครื่อง")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://www.typescriptlang.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Typescript"),r("OutboundLink")],1),e._v(" จำเป็นสำหรับการคอมไพล์โปรเจ็กต์และกำหนด types")]),e._v(" "),r("li",[e._v("ทั้ง SubQuery CLI และ Project ที่สร้างขึ้นจะมี dependencies และต้องใช้ "),r("a",{attrs:{href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node"),r("OutboundLink")],1),e._v(" เวอร์ชันใหม่")]),e._v(" "),r("li",[e._v("SubQuery Nodes ต้องใช้ Docker")])]),e._v(" "),r("h3",{attrs:{id:"การติดตั้ง-subquery-cli"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#การติดตั้ง-subquery-cli"}},[e._v("#")]),e._v(" การติดตั้ง SubQuery CLI")]),e._v(" "),r("p",[e._v("ติดตั้ง SubQuery CLI แบบ global บนเทอร์มินัลของคุณโดยใช้ NPM:")]),e._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# NPM")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -g @subql/cli\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br")])]),r("p",[e._v("โปรดทราบว่าเรา "),r("strong",[e._v("ไม่")]),e._v(" สนับสนุนให้ใช้ "),r("code",[e._v("yarn global")]),e._v(" เนื่องจากการจัดการ dependency ที่ไม่ดี ซึ่งอาจนำไปสู่ข้อผิดพลาดได้")]),e._v(" "),r("p",[e._v("จากนั้นคุณสามารถรันคำสั่ง help เพื่อดูคำสั่งและการใช้งานที่ CLI จัดเตรียมให้")]),e._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[e._v("subql "),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("help")]),e._v("\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])]),r("h2",{attrs:{id:"เริ่มต้น-subquery-project"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#เริ่มต้น-subquery-project"}},[e._v("#")]),e._v(" เริ่มต้น SubQuery Project")]),e._v(" "),r("p",[e._v("ภายในไดเรกทอรีที่คุณต้องการสร้างโปรเจ็กต์ SubQuery เพียงแทนที่ "),r("code",[e._v("PROJECT_NAME")]),e._v(" ด้วยชื่อของคุณเองและรันคำสั่ง:")]),e._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[e._v("subql init --starter PROJECT_NAME\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])]),r("p",[e._v("คุณจะถูกถามคำถามเมื่อโปรเจ็กต์ SubQuery เริ่มต้นขึ้น:")]),e._v(" "),r("ul",[r("li",[e._v("Git repository (ไม่บังคับ): ระบุ Git URL ไปยัง repo ที่จะโฮสต์โปรเจ็กต์ SubQuery นี้ (เมื่อโฮสต์ใน SubQuery Explorer)")]),e._v(" "),r("li",[e._v("RPC endpoint (จำเป็น): ระบุ wss URL ไปยัง RPC endpoint ที่ทำงานอยู่ซึ่งจะถูกใช้เป็นค่าเริ่มต้นสำหรับโปรเจ็กต์นี้ คุณสามารถเข้าถึง endpoint สาธารณะได้อย่างรวดเร็วสำหรับเครือข่าย Polkadot ต่างๆ หรือแม้แต่สร้างโหนดส่วนตัวเฉพาะของคุณเองโดยใช้ "),r("a",{attrs:{href:"https://app.onfinality.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("OnFinality"),r("OutboundLink")],1),e._v(" หรือเพียงแค่ใช้ Polkadot endpoint ที่เป็นค่าเริ่มต้น")]),e._v(" "),r("li",[e._v("Authors (จำเป็น): กรอกชื่อเจ้าของโปรเจ็กต์ SubQuery นี้ที่นี่")]),e._v(" "),r("li",[e._v("Description (ไม่บังคับ): คุณสามารถระบุข้อความสั้นๆ เกี่ยวกับโปรเจ็กต์ของคุณซึ่งอธิบายว่ามีข้อมูลใดบ้างและผู้ใช้สามารถทำอะไรกับมันได้บ้าง")]),e._v(" "),r("li",[e._v("Version (จำเป็น): ระบุหมายเลขเวอร์ชันที่กำหนดเองหรือใช้ค่าเริ่มต้น ("),r("code",[e._v("1.0.0")]),e._v(")")]),e._v(" "),r("li",[e._v("License (จำเป็น): ระบุใบอนุญาตซอฟต์แวร์สำหรับโปรเจ็กต์นี้หรือใช้ค่าเริ่มต้น ("),r("code",[e._v("Apache-2.0")]),e._v(")")])]),e._v(" "),r("p",[e._v("หลังจากกระบวนการในการเริ่มต้นเสร็จสมบูรณ์ คุณควรเห็นโฟลเดอร์ที่มีชื่อโปรเจ็กต์ของคุณถูกสร้างขึ้นภายในไดเร็กทอรี เนื้อหาของไดเร็กทอรีนี้ควรเหมือนกับที่ระบุไว้ใน "),r("RouterLink",{attrs:{to:"/th/create/introduction.html#directory-structure"}},[e._v("Directory Structure")])],1),e._v(" "),r("p",[e._v("สุดท้ายนี้ ภายใต้ไดเร็กทอรีของโปรเจ็กต์ ให้รันคำสั่งต่อไปนี้เพื่อติดตั้ง dependencies ของโปรเจ็กต์ใหม่นี้")]),e._v(" "),r("CodeGroup",[r("CodeGroupItem",{attrs:{title:"YARN",active:""}},[e._v(" ```shell cd PROJECT_NAME yarn install ``` ")]),e._v(" "),r("CodeGroupItem",{attrs:{title:"NPM"}},[e._v(" ```bash cd PROJECT_NAME npm install ``` ")])],1),e._v(" "),r("h2",{attrs:{id:"การกําหนดค่าและการ-build-starter-project"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#การกําหนดค่าและการ-build-starter-project"}},[e._v("#")]),e._v(" การกำหนดค่าและการ build Starter Project")]),e._v(" "),r("p",[e._v("ใน starter package ที่คุณเพิ่งติดตั้ง เราได้จัดเตรียมการกำหนดค่ามาตรฐานสำหรับโปรเจ็กต์ใหม่ของคุณ XPath: /p[11]/CodeGroup/text คุณจะต้องทำงานในไฟล์ต่อไปนี้เป็นหลัก:")]),e._v(" "),r("ul",[r("li",[e._v("The Manifest in "),r("code",[e._v("project.yaml")])]),e._v(" "),r("li",[e._v("GraphQL Schema ใน "),r("code",[e._v("schema.graphql")])]),e._v(" "),r("li",[e._v("Mapping functions ในไดเรกทอรี "),r("code",[e._v("src/mappings/")])])]),e._v(" "),r("p",[e._v("สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการเขียน SubQuery ของคุณเอง โปรดดูเอกสารของเราใน "),r("RouterLink",{attrs:{to:"/th/create/introduction.html"}},[e._v("การสร้างโปรเจ็กต์")])],1),e._v(" "),r("h3",{attrs:{id:"การสร้าง-graphql-model"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#การสร้าง-graphql-model"}},[e._v("#")]),e._v(" การสร้าง GraphQL Model")]),e._v(" "),r("p",[e._v("ในการทำ "),r("RouterLink",{attrs:{to:"/th/run/run.html"}},[e._v("index")]),e._v(" สำหรับโปรเจ็กต์ SubQuery ของคุณ ก่อนอื่นคุณต้องสร้างโมเดล GraphQL ที่จำเป็น ซึ่งคุณได้กำหนดไว้ในไฟล์ GraphQL Schema ("),r("code",[e._v("schema.graphql")]),e._v(") รันคำสั่งนี้ในรูทไดเร็กทอรีของโปรเจ็กต์")],1),e._v(" "),r("CodeGroup",[r("CodeGroupItem",{attrs:{title:"YARN",active:""}},[e._v(" ```shell yarn codegen ``` ")]),e._v(" "),r("CodeGroupItem",{attrs:{title:"NPM"}},[e._v(" ```bash npm run-script codegen ``` ")])],1),e._v(" "),r("p",[e._v("คุณจะพบโมเดลที่สร้างขึ้นในไดเร็กทอรี "),r("code",[e._v("/src/types/models")])]),e._v(" "),r("h2",{attrs:{id:"การ-build-โปรเจ็กต์"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#การ-build-โปรเจ็กต์"}},[e._v("#")]),e._v(" การ build โปรเจ็กต์")]),e._v(" "),r("p",[e._v("ในการรันโปรเจ็กต์ SubQuery ของคุณบนโหนด SubQuery ที่โฮสต์ในเครื่อง คุณต้อง build งานของคุณ")]),e._v(" "),r("p",[e._v("รันคำสั่ง build จากรูทไดเร็กทอรีของโปรเจ็กต์")]),e._v(" "),r("CodeGroup",[r("CodeGroupItem",{attrs:{title:"YARN",active:""}},[e._v(" ```shell yarn build ``` ")]),e._v(" "),r("CodeGroupItem",{attrs:{title:"NPM"}},[e._v(" ```bash npm run-script build ``` ")])],1),e._v(" "),r("h2",{attrs:{id:"การรันและการ-query-starter-project-ของคุณ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#การรันและการ-query-starter-project-ของคุณ"}},[e._v("#")]),e._v(" การรันและการ query Starter Project ของคุณ")]),e._v(" "),r("p",[e._v("แม้ว่าคุณจะเผยแพร่โปรเจ็กต์ใหม่ของคุณไปยัง "),r("a",{attrs:{href:"https://project.subquery.network",target:"_blank",rel:"noopener noreferrer"}},[e._v("SubQuery Projects"),r("OutboundLink")],1),e._v(" ได้อย่างรวดเร็วและสามารถสืบค้นโดยใช้ "),r("a",{attrs:{href:"https://explorer.subquery.network",target:"_blank",rel:"noopener noreferrer"}},[e._v("Explorer"),r("OutboundLink")],1),e._v(" ของเรา แต่วิธีที่ง่ายที่สุดในการรันโหนด SubQuery ภายในเครื่องคือการรันภายในคอนเทนเนอร์ Docker ถ้า คุณยังไม่มี Docker คุณสามารถติดตั้งได้จาก "),r("a",{attrs:{href:"https://docs.docker.com/get-docker/",target:"_blank",rel:"noopener noreferrer"}},[e._v("docker.com"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("p",[r("RouterLink",{attrs:{to:"/th/publish/publish.html"}},[r("em",[e._v("ข้ามสิ่งนี้และเผยแพร่โครงการใหม่ของคุณไปยัง SubQuery Projects")])])],1),e._v(" "),r("h3",{attrs:{id:"รัน-subquery-project-ของคุณ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#รัน-subquery-project-ของคุณ"}},[e._v("#")]),e._v(" รัน SubQuery Project ของคุณ")]),e._v(" "),r("p",[e._v("การกำหนดค่าทั้งหมดที่ควบคุมวิธีการเรียกใช้โหนด SubQuery จะถูกกำหนดในไฟล์ "),r("code",[e._v("docker-compose.yml")]),e._v(" นี้ สำหรับโปรเจ็กต์ใหม่ที่เพิ่งเริ่มต้น คุณไม่จำเป็นต้องเปลี่ยนแปลงอะไรในนี้ แต่คุณสามารถอ่านเพิ่มเติมเกี่ยวกับไฟล์และการตั้งค่าได้ใน "),r("RouterLink",{attrs:{to:"/th/run/run.html"}},[e._v("ส่วนการรันโปรเจ็กต์")])],1),e._v(" "),r("p",[e._v("ให้รันคำสั่งต่อไปนี้ ภายใต้ไดเร็กทอรีของโปรเจ็กต์:")]),e._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[e._v("docker-compose pull "),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" docker-compose up\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])]),r("p",[e._v("อาจใช้เวลาสักครู่ในการดาวน์โหลดแพ็คเกจที่จำเป็น ("),r("a",{attrs:{href:"https://www.npmjs.com/package/@subql/node",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("@subql/node")]),r("OutboundLink")],1),e._v(", "),r("a",{attrs:{href:"https://www.npmjs.com/package/@subql/query",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("@subql/query")]),r("OutboundLink")],1),e._v(" และ Postgres) ในครั้งแรก แต่ในไม่ช้าคุณจะเห็นการทำงานของโหนด SubQuery")]),e._v(" "),r("h3",{attrs:{id:"การ-query-โปรเจ็กต์ของคุณ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#การ-query-โปรเจ็กต์ของคุณ"}},[e._v("#")]),e._v(" การ query โปรเจ็กต์ของคุณ")]),e._v(" "),r("p",[e._v("เปิดเบราว์เซอร์ของคุณและไปที่ "),r("a",{attrs:{href:"http://localhost:3000",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://localhost:3000"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("คุณควรเห็น GraphQL playground แสดงใน explorer และ schemas ที่พร้อมสำหรับการ query ที่ด้านบนขวาของ Playground คุณจะพบปุ่ม "),r("em",[e._v("Docs")]),e._v(" ที่จะเปิดการร่างเอกสาร เอกสารนี้ถูกสร้างขึ้นโดยอัตโนมัติและช่วยให้คุณค้นหา entities และ methods ที่คุณสามารถค้นหาได้")]),e._v(" "),r("p",[e._v("สำหรับ SubQuery starter project ใหม่ คุณสามารถลองใช้ query ต่อไปนี้เพื่อดูว่ามันทำงานอย่างไร หรือ "),r("RouterLink",{attrs:{to:"/th/query/graphql.html"}},[e._v("เรียนรู้เพิ่มเติมเกี่ยวกับภาษาของ GraphQL Query")])],1),e._v(" "),r("div",{staticClass:"language-graphql line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-graphql"}},[r("code",[r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("query")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    starterEntities"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),r("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("first")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[e._v("10")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      nodes "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        field1\n        field2\n        field3\n      "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br"),r("span",{staticClass:"line-number"},[e._v("8")]),r("br"),r("span",{staticClass:"line-number"},[e._v("9")]),r("br"),r("span",{staticClass:"line-number"},[e._v("10")]),r("br"),r("span",{staticClass:"line-number"},[e._v("11")]),r("br")])]),r("h2",{attrs:{id:"ขั้นตอนถัดไป"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ขั้นตอนถัดไป"}},[e._v("#")]),e._v(" ขั้นตอนถัดไป")]),e._v(" "),r("p",[e._v("ยินดีด้วย ตอนนี้คุณมีโปรเจ็กต์ SubQuery ที่ทำงานอยู่ในเครื่อง ซึ่งยอมรับ GraphQL API requests สำหรับข้อมูลตัวอย่างแล้ว ในคู่มือถัดไป เราจะแสดงวิธีเผยแพร่โปรเจ็กต์ใหม่ของคุณไปยัง "),r("a",{attrs:{href:"https://project.subquery.network",target:"_blank",rel:"noopener noreferrer"}},[e._v("SubQuery Projects"),r("OutboundLink")],1),e._v(" และการสืบค้นโดยใช้ "),r("a",{attrs:{href:"https://explorer.subquery.network",target:"_blank",rel:"noopener noreferrer"}},[e._v(" Explorer "),r("OutboundLink")],1),e._v(" ของเรา")]),e._v(" "),r("p",[r("RouterLink",{attrs:{to:"/th/publish/publish.html"}},[e._v("เผยแพร่โปรเจ็กต์ใหม่ของคุณไปยัง SubQuery Projects")])],1)],1)}),[],!1,null,null,null);t.default=a.exports}}]);