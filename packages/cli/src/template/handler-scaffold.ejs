// SPDX-License-Identifier: Apache-2.0

// Auto-generated
import { Approval, Transaction } from "../types";
import {
<% props.
%>
} from "../types/abi-interfaces/Erc20Abi";
import assert from "assert";

export async function handleLog(log: TransferLog): Promise<void> {
    logger.info(`New transfer transaction log at block ${log.blockNumber}`);
    assert(log.args, "No log.args")
    const transaction = Transaction.create({
    id: log.transactionHash,
    txHash: log.transactionHash,
    blockHeight: BigInt(log.blockNumber),
    to: log.args.to,
    from: log.args.from,
    value: log.args.value.toBigInt(),
    contractAddress: log.address,
    });

    await transaction.save();
};